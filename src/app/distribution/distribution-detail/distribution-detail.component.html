<div class="{{login_data.view_dashboard=='1' ? 'main-container':'main-container pl0'}}">
    <div *ngIf="loader">
        <mat-spinner class="loader">
            <div><p>Loading....</p></div>
        </mat-spinner>
    </div>
    <div class="container">
        <div class="cs-header">
            <div *ngIf="dr_detail && dr_detail.type =='1' && login_data.access_level=='1' " class="cs-back">
                <a mat-button routerLink="/distribution-list" routerLinkActive="active"><i class="material-icons">arrow_right_alt</i></a>
            </div>
            <div *ngIf="dr_detail && dr_detail.type =='3' && login_data.access_level=='1'" class="cs-back">
                <a mat-button routerLink="/dealer" routerLinkActive="active"><i class="material-icons">arrow_right_alt</i></a>
            </div>
            <div *ngIf="dr_detail && dr_detail.type =='7' && login_data.access_level=='1'" class="cs-back">
                <a mat-button routerLink="/direct-dealer" routerLinkActive="active"><i class="material-icons">arrow_right_alt</i></a>
            </div>
            <div class="module-name">
                <h2>{{dr_detail.company_name}}</h2>
                
            </div>
            <div class="left-auto df ac">
                <a mat-raised-button color="primary" class="delete-action mr10" *ngIf="allCount" (click)="deletecheckavailable()">Delete <span class="count"> {{ allCount }}</span></a>
                <div class="tabs">
                    <ul class="dflex1">
                        <li *ngIf="login_data.view_dashboard!='1'"><a [ngClass]="{'active': view_tab=='Detail'}" (click)="count_data();related_tabs('Detail')">Dashboard</a></li>
                        <li *ngIf="dr_detail?.type!='3'"><a [ngClass]="{'active': view_tab=='Discount'}" (click)="related_tabs('Discount')">Discount</a></li>
                        <li><a [ngClass]="{'active': view_tab=='Checkin'}" (click)="related_tabs('Checkin')">Check In</a></li>
                        <li><a [ngClass]="{'active': view_tab=='pOrder'}" (click)="getOrders('pOrder','Pending');related_tabs('pOrder')">Order</a></li>
                        <li *ngIf="dr_detail?.type!='3'"><a  [ngClass]="{'active': view_tab=='sOrder'}" (click)="getOrders('sOrder','Pending');related_tabs('sOrder')">Order From Dealer</a></li>
                        <li *ngIf="dr_detail?.type=='1'"><a  [ngClass]="{'active': view_tab=='Executives'}" (click)="getExecutivesData();related_tabs('Executives')">My Executives</a></li>
                        <li *ngIf="dr_detail?.type=='1'"><a class="pr50" [ngClass]="{'active': view_tab=='Dealers'}" (click)="getDealersData();related_tabs('Dealers')">Dealers <span class="counter">{{dealersCount}}</span></a></li>
                        <li ><a [ngClass]="{'active': view_tab=='profile'}" (click)="related_tabs('profile')">Profile</a></li>
                    </ul>
                </div>
                <div class="click-btn ml10" *ngIf="login_data.access_level=='1'">
                    <button mat-button *ngIf="dr_detail?.type=='7'" (click)="convert_dr(1)">Convert To Channel Partner</button>
                    <button mat-button *ngIf="dr_detail?.type=='1'" (click)="convert_dr(7)">Convert To Direct Dealer</button>
                    <!-- <button mat-button *ngIf="dr_detail?.type=='3'" (click)="editDiscount(7)">Edit Discount</button> -->
                </div>
            </div>
        </div>
        <div class="scroll-body">
            <div class="row padding10" *ngIf="view_tab=='profile'">
                <div class="col {{login_data.access_level == '1' ? ( dr_detail.type==1 ? 's9' : 's8') : 's12'}}">
                    <div class="details-info padding10">
                        <div class="basic-details">
                            <div class="cs-figure">
                                <ul class="minus-top">
                                    <li>
                                        <div class="outer">
                                            <div class="inner">
                                                <span>Name</span>
                                                <p *ngIf="dr_detail.name!=''">{{dr_detail.name}}</p>
                                                <p *ngIf="dr_detail.name==''">N/A</p>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="outer">
                                            <div class="inner">
                                                <span>Mobile No.</span>
                                                <p *ngIf="dr_detail.mobile!=''">{{dr_detail.mobile}}</p>
                                                <p *ngIf="dr_detail.mobile==''">N/A</p>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="outer">
                                            <div class="inner">
                                                <span>Email</span>
                                                <p *ngIf="dr_detail.email!=''">{{dr_detail.email}}</p>
                                                <p *ngIf="dr_detail.email==''">N/A</p>
                                            </div>
                                        </div>
                                    </li>
                                    
                                </ul>
                                <ul class="minus-top">
                                    <li>
                                        <div class="outer">
                                            <div class="inner">
                                                <span>GST No.</span>
                                                <p *ngIf="dr_detail.gst!=''" >{{dr_detail.gst}}</p>
                                                <p  *ngIf="dr_detail.gst==''">N/A</p>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="outer">
                                            <div class="inner">
                                                <span>Username</span>
                                                <p>{{dr_detail.username ? dr_detail.username : 'N.A.'}}</p>
                                            </div>
                                        </div>
                                    </li>
                                    
                                    <li>
                                        <div class="outer">
                                            <div class="inner">
                                                <span>Password</span>
                                                <p>{{dr_detail.password ? dr_detail.password : '' }}</p>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                                
                                
                                <button *ngIf="login_data.access_level == '1'" class="edit-item" mat-raised-button color="accent" (click)="edit_dr_detail(dr_detail.company_name,dr_detail.mobile,dr_detail.email,dr_detail.gst,dr_detail.landline_no,dr_detail.name,dr_detail.date_of_birth,dr_detail.date_of_anniversary,dr_detail.password,'basic_detail',dr_detail.target,dr_detail.opening_balance,dr_detail.whatsapp_no,dr_detail.username)"><i class="material-icons">create</i></button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sprate-box padding0 mt15">
                        <a class="edit-item" color="accent" (click)="editAddress(dr_detail.country,dr_detail.state,dr_detail.district,dr_detail.city,dr_detail.pincode,dr_detail.address,'address')"><i class="material-icons">edit</i></a>
                        <div class="full-address">
                            <div class="top-heading">
                                <h2>ADDRESS</h2>
                            </div>
                            
                            <div class="ds-from-fields">
                                
                                <div class="cs-row">
                                    <div class="static-info">
                                        <p>Country</p>
                                        <p>{{dr_detail.country}}</p>
                                    </div>
                                    <div class="static-info">
                                        <p>State</p>
                                        <p>{{dr_detail.state}}</p>
                                    </div>
                                    <div class="static-info">
                                        <p>District</p>
                                        <p>{{dr_detail.district}}</p>
                                    </div>
                                    <div class="static-info">
                                        <p>City</p>
                                        <p>{{dr_detail.city}}</p>
                                    </div>
                                </div>
                                <div class="cs-row">
                                    <div class="static-info w120">
                                        <p>Pincode</p>
                                        <p>{{dr_detail.pincode}}</p>
                                    </div>
                                    <div class="static-info">
                                        <p>address</p>
                                        <p>{{dr_detail.address}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
                
                <div class="col {{dr_detail.type==1 ? 's3' : 's4'}}" *ngIf="login_data.access_level == '1'">
                    <div class="sprate-box">
                        <div class="territory-info" *ngIf="sales_executive_update!='true'">
                            <div class="head " [ngClass]="{'active':active.user==true}">
                                <h2>Sales User</h2>
                                <a class="edit-item" (click)="update_assigned_sales_executive('true')"><i class="material-icons">create</i></a>
                            </div>
                            <div class="cs-checkbox" *ngIf="dr_detail.assign_user.length!=0">
                                <div class="checkbox-outer" style="min-height: 115px; max-height: 115px;">
                                    <section class="checkbox-inner bodr0">
                                        <mat-checkbox class="check-list bg-none check-none" value="1" *ngFor="let row of dr_detail.assign_user">
                                            <div class="name-outer">
                                                <div class="outer">
                                                    <div class="inner">
                                                        <div class="name-inner">
                                                            {{row.sales_executive_name.charAt(0).toUpperCase()}}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div   class="text-box">
                                                <h2>{{row.sales_executive_name}}</h2>
                                                <p>{{row.role_name}}</p>
                                            </div>
                                        </mat-checkbox>
                                    </section>
                                </div>
                            </div>
                        </div>
                        <div class="territory-info"  *ngIf="sales_executive_update=='true'">
                            
                            <div class="head" [ngClass]="{'active':active.user==true}">
                                <h2>Sales User</h2>
                                <i class="material-icons search-icon right20" (click)="toggleterritory('user','open')"  matRipple>search</i>
                                <input type="text" placeholder="search..." class="fix-search" (input)="getItemsList(search.search)" #search="ngModel" [(ngModel)]="search.search">
                                <i class="material-icons close-icon" (click)="toggleterritory('user','close')" matRipple>clear</i>
                            </div>
                            <div class="cs-logs">
                                <div class="cs-checkbox">
                                    <div class="checkbox-outer">
                                        <section class="checkbox-inner">
                                            <ng-container *ngFor="let list of asmList;let index=index" aria-required="true">
                                                <mat-checkbox (scroll)="scrollHandler($event)"  class="check-list" [checked]="list.check" (change)="product_Brand(list.id,index,$event)" value="{{list.name}}">{{list.name}} | {{list.role_name}}</mat-checkbox>
                                            </ng-container>
                                        </section>
                                    </div>
                                </div>
                            </div>
                            <div class="cs-btn text-right mb10 mr10">
                                <div class="in-btn sm-btn">
                                    <button mat-raised-button color="accent" (click)="update_assigned_executive(dr_detail.sales_executive)">Update</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col s3 mt15" *ngIf="login_data.access_level == '1' && dr_detail.type==1">
                    <div class="sprate-box">
                        <div class="territory-info" *ngIf="!active.dealer">
                            <div class="head " [ngClass]="{'active':active.dealer}">
                                <h2>Dealer</h2>
                                <a class="edit-item" (click)="active.dealer = true;"><i class="material-icons">create</i></a>
                            </div>
                            <div class="cs-checkbox" *ngIf="assignDelaerList.length!=0">
                                <div class="checkbox-outer" style="min-height: 115px; max-height: 115px;">
                                    <section class="checkbox-inner bodr0">
                                        <mat-checkbox class="check-list bg-none check-none" value="1" *ngFor="let row of assignDelaerList">
                                            <div class="name-outer">
                                                <div class="outer">
                                                    <div class="inner">
                                                        <div class="name-inner">
                                                            {{row.company_name.charAt(0).toUpperCase()}}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div   class="text-box">
                                                <h2>{{row.company_name}}</h2>
                                            </div>
                                        </mat-checkbox>
                                    </section>
                                </div>
                            </div>
                        </div>
                        <div class="territory-info"  *ngIf="active.dealer">
                            <div class="head" [ngClass]="{'active':active.dealer}">
                                <h2>Dealer List</h2>
                                <i class="material-icons search-icon right20" (click)="toggleterritory('dealer','open')"  matRipple>search</i>
                                <input type="text" placeholder="search..." class="fix-search" #search="ngModel" [(ngModel)]="search.company_name">
                                <i class="material-icons close-icon" (click)="toggleterritory('dealer','close')" matRipple>clear</i>
                            </div>
                            <div class="cs-logs">
                                <div class="cs-checkbox">
                                    <div class="checkbox-outer">
                                        <section class="checkbox-inner"   >
                                            <ng-container *ngFor="let list of deal_list| filterBy: {company_name : search.company_name}" aria-required="true">
                                                <mat-checkbox class="check-list" [checked]="list.check" name="check" [(ngModel)]="list.check" (change)="select_dealer(list,$event)" value="{{list.company_name}}">{{list.company_name}}</mat-checkbox>
                                            </ng-container>
                                        </section>
                                    </div>
                                </div>
                            </div>
                            <div class="cs-btn text-right mb10 mr10" *ngIf="assign_dealer.length">
                                <div class="in-btn sm-btn">
                                    <button mat-raised-button color="accent" (click)="save_assign_dealer()">Update</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="view_tab=='Detail' && login_data.view_dashboard!='1'">
                    
                <div class="dashboard pt20"  ng-init="order_dashboard()">
                    <div class="container-outer">
                        <div class="container">
                            <div class="row top-info">
                                <figure class="col s2" style="width: 20%" (click)="related_tabs('Dealers')">
                                    <div class="box">
                                        <h1>My Dealers</h1>
                                        <div class="bxe">
                                            <div class="outer">
                                                <div class="inner">
                                                    <h2>
                                                        <a >{{dashboardCounts.dealer}}</a>
                                                    </h2>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bt-bg">
                                            <img src="assets/img/icon-lead.png" alt="" style="width: 150px;">
                                        </div>
                                    </div>
                                </figure>
                                
                                <figure class="col s2" style="width: 20%" (click)="related_tabs('Executives')">
                                    <div class="box">
                                        <h1>My Executives</h1>
                                        <div class="bxe">
                                            <div class="outer">
                                                <div class="inner">
                                                    <h2>
                                                        <a >{{dashboardCounts.myExecutivesCount}}</a>
                                                    </h2>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bt-bg">
                                            <img src="assets/img/icon-distributer.png" alt="" style="width: 150px;">
                                        </div>
                                    </div>
                                </figure>
                                
                                <figure class="col s2" style="width: 20%"  (click)="related_tabs('Checkin')">
                                    <div class="box">
                                        <h1>Checkins</h1>
                                        <div class="bxe">
                                            <div class="outer">
                                                <div class="inner">
                                                    <h2>
                                                        <a >{{dashboardCounts.checkin}}</a>
                                                    </h2>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bt-bg">
                                            <img src="assets/img/icon-retailer.png" alt="" style="width: 150px;">
                                        </div>
                                    </div>
                                </figure>
                                
                                
                                <figure class="col s2" style="width: 20%" (click)="related_tabs('pOrder')">
                                    <div class="box">
                                        <h1>Order</h1>
                                        <div class="bxe">
                                            <div class="outer">
                                                <div class="inner">
                                                    <h2>
                                                        <a >{{dashboardCounts.primary_order.count}}</a>
                                                        <a > &#x20B9; {{dashboardCounts.primary_order.sum}}</a>
                                                    </h2>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bt-bg">
                                            <img src="assets/img/icon-order.png" alt="" style="width: 150px;">
                                        </div>
                                    </div>
                                </figure>
                                
                                <figure class="col s2" style="width: 20%" (click)="related_tabs('sOrder')">
                                    <div class="box">
                                        <h1>Order From Dealer </h1>
                                        <div class="bxe">
                                            <div class="outer">
                                                <div class="inner">
                                                    <h2>
                                                        <a >{{dashboardCounts.secondary_order.count}}</a>
                                                        <a > &#x20B9; {{dashboardCounts.secondary_order.sum}}</a>
                                                    </h2>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bt-bg">
                                            <img src="assets/img/icon-order.png" alt="" style="width: 150px;">
                                        </div>
                                    </div>
                                </figure>
                            </div>
                            
                            
                            <div class="row mt-15 graph-info">
                                <div class="col s12 figure">
                                    
                                    <div style="display: block">
                                        <canvas baseChart
                                        [datasets]="barChartData"
                                        [labels]="barChartLabels"
                                        [options]="barChartOptions"
                                        [legend]="barChartLegend"
                                        [chartType]="barChartType">
                                    </canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col s4">
                                <div class="ds-box pink">
                                    <div class="ds-head">
                                        Latest Checkin
                                    </div>
                                    <div class="ds-body">
                                        <div class="cs-information">
                                            <div class="cs-border" *ngFor="let row of dashboardCounts.latestCheckin">
                                                <div class="top-srip">
                                                    <ul>
                                                        <li><p><span>Date :</span> {{row.visit_start | date: 'dd/MMM/yy' }}</p></li>
                                                        <li><p><span>Start :</span>{{row.visit_start | date: 'h:mm a' }}</p></li>
                                                        <li *ngIf="row.visit_end!='0000-00-00 00:00:00'"><p><span>End :</span> {{row.visit_end | date: 'h:mm a' }}</p></li>
                                                        <li  *ngIf="row.visit_end=='0000-00-00 00:00:00'"><p><span>End :</span> N.A.</p></li>
                                                    </ul>
                                                </div>
                                                <div class="flex-content">
                                                    <div class="alfa-digit" *ngIf="row.d_name!=''">{{row.d_name.charAt(0).toUpperCase()}}</div>
                                                    <div class="content">
                                                        <p ng-click="dr_detail(row.dr_id,row.dr_type)">{{row.d_name}}</p>
                                                        <span>Executive : {{row.user_name}}</span>
                                                    </div>
                                                </div>
                                                <div class="remark">
                                                    <strong>Remark : </strong>{{row.remark ? row.remark : 'N.A.'}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col s4">
                                <div class="ds-box green">
                                    <div class="ds-head">
                                        Latest Order  From Dealer
                                    </div>
                                    <div class="ds-body">
                                        <div class="cs-information">
                                            <div class="cs-border secondary" *ngFor="let row of dashboardCounts.latestSecondary">
                                                <div class="top-srip">
                                                    <ul>
                                                        <li><p><span>Date :</span> {{row.date_created | date: 'MMM d, y'}}</p></li>
                                                        <li class="amount"><p><span>Amount :</span> &#x20B9; {{row.order_total}}</p></li>
                                                    </ul>
                                                </div>
                                                <div class="flex-content" style="margin-bottom: 0px;">
                                                    <div class="alfa-digit">{{row.user_name.charAt(0).toUpperCase()}}</div>
                                                    <div class="content">
                                                        <p> {{row.user_name}}</p>
                                                        <p *ngIf="row.type == 3"> Dealer : {{row.dr_name}}</p>
                                                        <p *ngIf="row.type == 1"> Distributor : {{row.dr_name}}</p>
                                                        <p *ngIf="row.type == 7"> Direct Dealer : {{row.dr_name}}</p>
                                                        <a routerLink="/order-detail/{{row.id}}"  style="color: #2f00ec;">{{row.order_no}}</a>
                                                    </div>
                                                </div> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col s4">
                                <div class="ds-box orange">
                                    <div class="ds-head">
                                        My Executive Information 
                                    </div>
                                    
                                    
                                    
                                    <div class="dss-body">
                                        <div class="dss-body-1" *ngFor="let row of dashboardCounts.execInfo">
                                            <div class="dss-head">
                                                <h3>{{row.name}}</h3>
                                                <p>{{row.attendance}} days</p>
                                            </div>
                                            
                                            <div class="detail">
                                                <ul>
                                                    <li>
                                                        <h3>Check In</h3>
                                                        <p><span>{{row.check_in}}</span></p>
                                                    </li>
                                                    
                                                    <li>
                                                        <h3>Primary Order</h3>
                                                        <p><span>{{row.p_order}}</span>  ₹ {{row.pri_order_value}}</p>
                                                    </li>
                                                    
                                                    <li>
                                                        <h3>Secondary Order</h3>
                                                        <p><span>{{row.order}}</span>  ₹ {{row.sec_order_value}}</p>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row" *ngIf="dr_detail.type!=3">
            <div *ngIf="view_tab=='Discount'">
                <div class="col s12">
                    <div class="cs-table">
                        <div class="sticky-head">
                            <div class="table-head">
                                <table class="sno-border">
                                    <tr>
                                        <th class="w50">&nbsp;</th>
                                        <th>Category Name</th>
                                        <th class="w200">Discount</th> 
                                    </tr>
                                </table>
                            </div>
                            
                            
                            <div class="table-head bdrt">
                                <table class="sno-border">
                                    <tr>
                                        <th class="w50">&nbsp;</th>
                                        <th>
                                            <div class="th-search-acmt">
                                                <mat-form-field class="example-full-width cs-input select-input">
                                                    <input matInput placeholder="Search...." (input)="getItemsdisc(search2.search1)" #search1="ngModel" [(ngModel)]="search2.search1">
                                                </mat-form-field>
                                            </div>
                                            <div>
                                            </div>
                                        </th>
                                        <th class="w200"></th> 
                                    </tr>
                                </table>
                            </div>
                        </div>
                        
                        <div class="table-container">
                            <div class="table-content">
                                <table class="sno-border">
                                    <tr *ngFor="let list of dr_detail.discount_data;let i = index;">
                                        <td class="w50">{{i+1}}</td>
                                        <td> {{list.category}}</td>
                                        <td class="w200">
                                            <div class="td-input" [ngClass]="{'active':active[i]?.discount == '1'}">
                                                <input type="number" value="{{list.discount}}" (keypress)="MobileNumber($event)" [(ngModel)]="list.discount" maxlength="5" minlength="1"   [readonly]="active[i]?.discount != '1'" class="input-bdr">
                                                <div class="edit" *ngIf="login_data.access_level == '1'">
                                                    <a class="edit-icon edit" (click)="edit_discount(i)">
                                                        <i class="material-icons">create</i>
                                                    </a>
                                                    <a class="edit-icon save" *ngIf="active[i]?.discount == '1'">
                                                        <i class="material-icons" (click)="update_discount(list.category,list.id,list.discount)">save</i>
                                                    </a>
                                                </div>
                                            </div>
                                            
                                        </td>
                                    </tr>
                                    
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div *ngIf="view_tab=='pOrder' || view_tab=='sOrder' ">
            <div class="dflex1 space-btw padding10">
                <div class="tabs">
                    <ul>
                        <li><a class="pr50" (click)="orderTabActive.active='Pending';getOrders(view_tab,orderTabActive.active)" [ngClass]="{'active' : orderTabActive.active=='Pending' } ">Order Placed <span class="counter">{{orderTabCounters.pending}}</span></a></li>
                        <li><a class="pr50" (click)="orderTabActive.active='Approved';getOrders(view_tab,orderTabActive.active)" [ngClass]="{'active' : orderTabActive.active=='Approved' } ">Order Accepted <span class="counter">{{orderTabCounters.approved}}</span></a></li>
                        <li><a class="pr50" (click)="orderTabActive.active='Dispatch';getOrders(view_tab,orderTabActive.active)" [ngClass]="{'active' : orderTabActive.active=='Dispatch' } ">Dispatched <span class="counter">{{orderTabCounters.dispatch}}</span></a></li>
                        <li><a class="pr50" (click)="orderTabActive.active='Reject';getOrders(view_tab,orderTabActive.active)" [ngClass]="{'active' : orderTabActive.active=='Reject' } ">Refered Back <span class="counter">{{orderTabCounters.rejected}}</span></a></li>
                        <li><a class="pr50" (click)="orderTabActive.active='Pre Close';getOrders(view_tab,orderTabActive.active)" [ngClass]="{'active' : orderTabActive.active=='Pre Close' } ">Pre Closed <span class="counter">{{orderTabCounters.pre_close}}</span></a></li>
                    </ul>
                </div>
                <div class="cube-bx">
                    <div class="detail-bx">
                        <ng-container *ngIf="view_tab=='pOrder'">
                            <p>Total Primary Sale :</p>
                            <p>{{totalOrders.count}}</p>
                        </ng-container>
                        <ng-container *ngIf="view_tab=='sOrder'">
                            <p>Total Secondary Sale :</p>
                            <p>{{totalOrders.count}}</p>
                        </ng-container>
                        
                    </div>
                    <div class="detail-bx">
                        <p>Amount :</p>
                        <p>₹ {{totalOrders.sum}} /-</p>
                    </div>
                </div>
            </div>
            
            <div class="row" >
                <div class="col s12">
                    <div class="cs-table" *ngIf="order_type==0 || view_tab=='sOrder' " >
                        <div class="sticky-head">
                            <div class="table-head">
                                <table class="sno-border"> 
                                    <tr>
                                        <th class="w30">&nbsp;</th>
                                        <th class="w100">Date</th>
                                        <th class="w220">Created By</th>
                                        <th *ngIf="view_tab=='sOrder'" class="w200">Dealer</th>
                                        <th class="w120">Order No</th>
                                        <th class="w100 text-center">Total Item</th>
                                        <th class="w130 text-right">Order Value</th>
                                        <!-- <th *ngIf="dr_detail.type!=3" class="w100">Status</th> -->
                                        <!-- <th class="w70">Action</th> -->
                                    </tr>
                                </table>
                            </div>
                            <div class="table-head bdrt">
                                <table class="sno-border">
                                    <tr>
                                        <th class="w30">&nbsp;</th>
                                        <th class="w100"></th>
                                        <th class="w220">
                                            <div class="th-search-acmt">
                                                <mat-form-field class="example-full-width cs-input select-input">
                                                    <input matInput placeholder="Search...." (input)="getOrders(view_tab,orderTabActive.active)" #search="ngModel" [(ngModel)]="search4.created_by">
                                                </mat-form-field>
                                            </div>
                                            <div>
                                            </div>
                                        </th>
                                        <th class="w200" *ngIf="view_tab=='sOrder'">
                                            <div class="th-search-acmt">
                                                <mat-form-field class="example-full-width cs-input select-input">
                                                    <input matInput placeholder="Search...." (input)="getOrders(view_tab,orderTabActive.active)" #search="ngModel" [(ngModel)]="search4.company_name">
                                                </mat-form-field>
                                            </div>
                                        </th>
                                        <th class="w120">
                                            <div class="th-search-acmt">
                                                <mat-form-field class="example-full-width cs-input select-input">
                                                    <input matInput placeholder="Order No...." (input)="getOrders(view_tab,orderTabActive.active)" #search="ngModel" [(ngModel)]="search4.order_id">
                                                </mat-form-field>
                                            </div>
                                            <div>
                                            </div>
                                        </th>
                                        <th class="w100">&nbsp;</th>
                                        <th class="w130">&nbsp;</th>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        
                        <div class="table-container">
                            <div class="table-content">
                                <table class="sno-border">
                                    <tr *ngFor="let list of order_data;let i = index">
                                        <td class="w30">{{i+1}}</td>
                                        <td class="w100">{{list.date_created | date : 'd MMM, y'}}</td>
                                        <td class="w220">{{list.created_by_name ? list.created_by_name : list.ord_create_by}}</td>
                                        <td *ngIf="view_tab=='sOrder'" class="w200">{{list.company_name}}</td>
                                        <td class="w120"><a class="link-btn" mat-button routerLink="/order-detail/{{list.id}}" routerLinkActive="active">{{list.order_no}}</a></td>
                                        <td class="w100 text-center">{{list.order_item}}</td>
                                        <td class="w130 text-right">&#8377; {{list.order_total}}
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="data-not-available" *ngIf="order_data.length== '0'">
                            <div class="outer">
                                <div class="iinear">
                                    <div class="figure" matRipple>
                                        <div class="header">
                                            <img src="assets/img/data-not-available-header.svg" alt="">
                                        </div>
                                        
                                        <div class="description">
                                            <div class="cs-heading">
                                                <h2>Order</h2>
                                            </div>
                                            <div class="img">
                                                <i class="material-icons">error_outline</i>
                                            </div>
                                            <div class="psc">
                                                <p>data not Available</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="cs-table" *ngIf="order_type==1 && view_tab=='pOrder' ">
                        <div class="sticky-head">
                            <div class="table-head">
                                <table class="sno-border"> 
                                    <tr>
                                        <th class="w30">&nbsp;</th>
                                        <th class="w100">Date</th>
                                        <th class="w250">User</th>
                                        <th class="w190 text-right">Order Value</th>
                                        <th class="w100" *ngIf="login_data.access_level=='1'">Action</th>
                                    </tr>
                                </table>
                            </div>
                            <div class="table-head bdrt">
                                <table class="sno-border">
                                    <tr>
                                        <th class="w30">&nbsp;</th>
                                        <th class="w100"></th>
                                        <th class="w250"></th>
                                        <th class="w190">
                                        </th>
                                        <th *ngIf="login_data.access_level=='1'" class="w100">&nbsp;</th>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        
                        <div class="table-container">
                            <div class="table-content">
                                <table class="sno-border">
                                    <tr *ngFor="let list of primary_ord_data;let i = index">
                                        <td class="w30">{{i+1}}</td>
                                        <td class="w100">{{list.date_created | date : 'MMMM d, y'}}</td>
                                        <td class="w250">{{list.name}}</td>
                                        <td  class="w190 text-right">&#8377;{{list.amount}}</td>
                                        <td class="w100" *ngIf="login_data.access_level=='1'">
                                            <a class="del-btn" (click)="deleteOrder(list.id,i)">Delete <i class="material-icons">delete_sweep</i></a>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        
                        <div class="data-not-available" *ngIf="primary_ord_data.length== '0'">
                            <div class="outer">
                                <div class="iinear">
                                    <div class="figure" matRipple>
                                        <div class="header">
                                            <img src="assets/img/data-not-available-header.svg" alt="">
                                        </div>
                                        
                                        <div class="description">
                                            <div class="cs-heading">
                                                <h2>Direct Orders</h2>
                                            </div>
                                            <div class="img">
                                                <i class="material-icons">error_outline</i>
                                            </div>
                                            <div class="psc">
                                                <p>data not Available</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row" *ngIf="view_tab=='Checkin'">
            <div class="col s12">
                <div class="cs-table">
                    <div class="sticky-head">
                        <div class="table-head">
                            <table class="sno-border">
                                <tr>
                                    <th class="w40 text-center">&nbsp;</th>
                                    <th class="w120">Date</th>
                                    <th  class="w200">Sales User</th>
                                    <th  class="w300">Company Name</th>
                                    <th >Check in </th>
                                    <th >Check out</th>
                                    <th>Remark</th>
                                </tr>
                            </table>
                        </div>
                        <div class="table-head bdrt">
                            <table class="sno-border">
                                <tr>
                                    <th class="w40 text-center">&nbsp;</th>
                                    <th class="w120"></th>
                                    <th  class="w200">
                                        <div class="th-search-acmt">
                                            <mat-form-field class="example-full-width cs-input select-input">
                                                <input matInput placeholder="Search...." (input)="getItemscheckin(search3.search)" #search="ngModel" [(ngModel)]="search3.search">
                                            </mat-form-field>
                                        </div>
                                    </th>
                                    <th class="w300"></th>
                                    <th ></th>
                                    <th ></th>
                                    <th></th>
                                </tr>
                            </table>
                        </div>
                    </div>
                    
                    <div class="table-container">
                        <div class="table-content">
                            <table class="sno-border">
                                <tr *ngFor="let row of dr_detail.checkin ; let i=index">
                                    <td class="w40 text-center">{{i+1}}</td>
                                    <td class="w120">{{row.date_created | date : 'MMMM d, y'}}</td>
                                    <td class="w200">{{row.exec_name}}</td>
                                    <td class="w300">{{row.company_name}}</td>
                                    <td class=""><span  style="font-weight: 500;">{{row.visit_start | date : 'h:mm a'}}</span> {{row.start_address}}</td>
                                    <td class=""><span  style="font-weight: 500;">{{row.visit_start | date : 'h:mm a'}}</span> {{row.address}}</td>
                                    <td>{{row.remark}}</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row" *ngIf="view_tab=='Dealers'">
            <div class="col s12">
                <div class="cs-table">
                    <div class="sticky-head">
                        <div class="table-head">
                            <table class="sno-border">
                                <tr>
                                    <th class="w40 text-center">&nbsp;</th>
                                    <th class="w250">Company Name</th>
                                    <th  class="w200">Contact Person</th>
                                    <th class="w110">Mobile </th>
                                    <th class="w110">Gst </th>
                                    <th class="">Address</th>
                                    <th class="">Secondary Sale</th>
                                    <th class="w130">Action</th>
                                </tr>
                            </table>
                        </div>
                        <!-- <div class="table-head bdrt">
                            <table class="sno-border">
                                <tr>
                                    <th class="w40 text-center">&nbsp;</th>
                                    <th class="w120">
                                    </th>
                                    <th  class="w200" >
                                        <div class="th-search-acmt">
                                            <mat-form-field class="example-full-width cs-input select-input">
                                                <input matInput placeholder="Search...." (input)="getItemscheckin(search3.search)" #search="ngModel" [(ngModel)]="search3.search">
                                            </mat-form-field>
                                        </div>
                                    </th>
                                    <th class="w110"></th>
                                    <th class="w120"></th>
                                    <th></th>
                                </tr>
                            </table>
                        </div> -->
                    </div>
                    
                    <div class="table-container">
                        <div class="table-content">
                            <table class="sno-border">
                                <tr *ngFor="let row of assignedDealers ; let i=index">
                                    <td class="w40 text-center">{{i+1}}</td>
                                    <td class="w250">{{row.company_name}}</td>
                                    <td class="w200">{{row.name}}</td>
                                    <td class="w110">{{row.mobile}}</td>
                                    <td class="w110">{{!row.gst ? 'N/A' : row.gst }}</td>
                                    <td class="" *ngIf="row.address || row.area || row.city || row.district || row.state || row.pincode">{{row.address}} {{row.area}} {{row.city}} {{row.district}} {{row.state}} {{row.pincode}}</td>
                                    <td class="" *ngIf="!row.address && !row.area && !row.city && !row.district && !row.state && !row.pincode">N/A</td>
                                    <td class="">{{row.secondary_sale.count}} | &#8377;{{row.secondary_sale.sum}}</td>
                                    <td class="w130"><a class="link-btn" mat-button  (click)="openDiscountModal(row.dr_id)" >Manage Discount</a></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row" *ngIf="view_tab=='Executives'">
            <div class="col s12">
                <div class="cs-table">
                    <div class="sticky-head">
                        <div class="table-head">
                            <table class="sno-border">
                                <tr>
                                    <th class="w40 text-center">&nbsp;</th>
                                    <th class="w250">Executive Name</th>
                                    <th class="w110">Mobile </th>
                                    <th class="">Address</th>
                                    <th class="">Secondary Sale</th>
                                    <th class="w90">Checkins</th>
                                </tr>
                            </table>
                        </div>
                        <!-- <div class="table-head bdrt">
                            <table class="sno-border">
                                <tr>
                                    <th class="w40 text-center">&nbsp;</th>
                                    <th class="w120">
                                    </th>
                                    <th  class="w200" >
                                        <div class="th-search-acmt">
                                            <mat-form-field class="example-full-width cs-input select-input">
                                                <input matInput placeholder="Search...." (input)="getItemscheckin(search3.search)" #search="ngModel" [(ngModel)]="search3.search">
                                            </mat-form-field>
                                        </div>
                                    </th>
                                    <th class="w110"></th>
                                    <th class="w120"></th>
                                    <th></th>
                                </tr>
                            </table>
                        </div> -->
                    </div>
                    
                    <div class="table-container">
                        <div class="table-content">
                            <table class="sno-border">
                                <tr *ngFor="let row of assignedExecutives ; let i=index">
                                    <td class="w40 text-center">{{i+1}}</td>
                                    <td class="w250">{{row.name}}</td>
                                    <td class="w110">{{row.mobile}}</td>
                                    <td class="" *ngIf="row.address || row.area || row.city || row.district || row.state || row.pincode">{{row.address}} {{row.area}} {{row.city}} {{row.district}} {{row.state}} {{row.pincode}}</td>
                                    <td class="" *ngIf="!row.address && !row.area && !row.city && !row.district && !row.state && !row.pincode">N/A</td>
                                    <td class="">{{row.secondary_sale.count}} | &#8377;{{row.secondary_sale.sum}}</td>
                                    <td class="w90">
                                        {{row.checkins}}
                                        <div class="action-btns">
                                            <a mat-button class="view" (click)="disExecutive('View',row.assigned_to)"><i class="material-icons">remove_red_eye</i>View</a>
                                            <button mat-button class="edit" (click)="disExecutive('Edit',row.assigned_to)"><i class="material-icons">edit</i> Edit</button>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row" *ngIf="view_tab=='legder'">
            <div class="col s12">
                <div class="tab-strip">
                    <div class="left-auto" >
                        <div class="cs-btn">
                            <div class="in-btn" *ngIf="ledger_data.length!='0' && login_data.access_level=='1'">
                                <button mat-button color="primary" (click)="add_ledger('add_amount')" style="background: #2e8002;">Add Payment</button>
                                
                                <button mat-button color="primary" (click)="add_ledger('add_invoice')" style="background: #2e8002;">Add Invoice</button>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                <div class="cs-table">
                    <div class="sticky-head">
                        <div class="table-head">
                            <table class="sno-border"> 
                                <tr>
                                    <th class="w30">&nbsp;</th>
                                    <th class="w100">Last Update</th>
                                    <th class="w220">Invoice No</th>
                                    <th class="w300">Payment</th>
                                    <th class="w100">Amount</th>
                                    <th class="w120">Balance</th>
                                </tr>
                            </table>
                        </div>
                    </div>
                    
                    <div class="table-container">
                        <div class="table-content">
                            <table class="sno-border">
                                <tr *ngFor="let list of ledger_data;let i = index">
                                    <td class="w30">{{i+1}}</td>
                                    <td class="w100">{{list.date_created | date:'d MMM, y'}}</td>
                                    <td class="w220"><strong *ngIf="list.invoice_no">Invoice No:</strong> {{list.invoice_no}}</td>
                                    <td class="w300" *ngIf="list.payment_type==''"></td>
                                    <td class="w300" *ngIf="list.payment_type=='Nfft'"><strong>Mode: </strong>{{list.payment_type}}  <strong>Transaction Id:</strong> {{list.transaction_id}}</td>
                                    <td class="w300" *ngIf="list.payment_type=='Cheque'"><strong>Mode:</strong> {{list.payment_type}} <strong>Bank:</strong> {{list.cheque_bank}}  <strong>Cheque No:</strong> {{list.cheque_no}} <strong>Date: </strong>{{list.cheque_date | date:'d MMM, y'}}</td>
                                    <td class="w100"> &#x20B9; {{list.amount}}</td>
                                    <td class="w120"> &#x20B9; {{list.balance}}
                                        <div class="action-btns">
                                            <button mat-button class="delete" *ngIf="i==0 && login_data.access_level == '1'" (click)="deleteUser(list.id)"><i class="material-icons">delete_sweep</i> Delete</button>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    
                    <div class="data-not-available" *ngIf="ledger_data.length== '0'">
                        <div class="outer">
                            <div class="iinear">
                                <div class="figure" matRipple>
                                    <div class="header">
                                        <img src="assets/img/data-not-available-header.svg" alt="">
                                    </div>
                                    
                                    <div class="description">
                                        <div class="cs-heading">
                                            <h2>Ledger</h2>
                                        </div>
                                        <div class="img">
                                            <i class="material-icons">error_outline</i>
                                        </div>
                                        <div class="psc">
                                            <p>data not Available</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </div>
</div>