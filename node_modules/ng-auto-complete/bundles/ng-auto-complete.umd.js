(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs/operators'), require('rxjs'), require('@angular/common'), require('@angular/forms')) :
    typeof define === 'function' && define.amd ? define('ng-auto-complete', ['exports', '@angular/core', 'rxjs/operators', 'rxjs', '@angular/common', '@angular/forms'], factory) :
    (factory((global['ng-auto-complete'] = {}),global.ng.core,global.rxjs.operators,global.rxjs,global.ng.common,global.ng.forms));
}(this, (function (exports,core,operators,rxjs,common,forms) { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    var __assign = function () {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s)
                    if (Object.prototype.hasOwnProperty.call(s, p))
                        t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };
    function __awaiter(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try {
                step(generator.next(value));
            }
            catch (e) {
                reject(e);
            } }
            function rejected(value) { try {
                step(generator["throw"](value));
            }
            catch (e) {
                reject(e);
            } }
            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }
    function __generator(thisArg, body) {
        var _ = { label: 0, sent: function () { if (t[0] & 1)
                throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function () { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f)
                throw new TypeError("Generator is already executing.");
            while (_)
                try {
                    if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)
                        return t;
                    if (y = 0, t)
                        op = [op[0] & 2, t.value];
                    switch (op[0]) {
                        case 0:
                        case 1:
                            t = op;
                            break;
                        case 4:
                            _.label++;
                            return { value: op[1], done: false };
                        case 5:
                            _.label++;
                            y = op[1];
                            op = [0];
                            continue;
                        case 7:
                            op = _.ops.pop();
                            _.trys.pop();
                            continue;
                        default:
                            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                                _ = 0;
                                continue;
                            }
                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
                                _.label = op[1];
                                break;
                            }
                            if (op[0] === 6 && _.label < t[1]) {
                                _.label = t[1];
                                t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2];
                                _.ops.push(op);
                                break;
                            }
                            if (t[2])
                                _.ops.pop();
                            _.trys.pop();
                            continue;
                    }
                    op = body.call(thisArg, _);
                }
                catch (e) {
                    op = [6, e];
                    y = 0;
                }
                finally {
                    f = t = 0;
                }
            if (op[0] & 5)
                throw op[1];
            return { value: op[0] ? op[1] : void 0, done: true };
        }
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var AutocompleteItem = /** @class */ (function () {
        function AutocompleteItem(title, id, className, original) {
            this.title = title;
            this.id = id;
            this.className = className;
            this.original = original;
        }
        return AutocompleteItem;
    }());
    /**
     *
     * @param {?} items
     * @param {?} titleKey
     * @param {?=} childrenKey
     * @return {?}
     */
    function SearchableAutoCompleteItems(items, titleKey, childrenKey) {
        if (childrenKey === void 0) {
            childrenKey = null;
        }
        return items.reduce(function (r, i) {
            /** @type {?} */
            var t = SearchableAutoCompleteString(i[titleKey], i.id);
            if (typeof r[t] === 'undefined') {
                r[t] = TransformToAutocompleteItem(i, titleKey, childrenKey);
            }
            return r;
        }, {});
    }
    /**
     *
     * @param {?} key
     * @param {?} id
     * @return {?}
     */
    function SearchableAutoCompleteString(key, id) {
        return key.replace(/ /g, '_') + "_id_" + String(id);
    }
    /**
     *
     * @param {?} str
     * @return {?}
     */
    function ComparableAutoCompleteString(str) {
        return str.replace(/_/g, ' ');
    }
    /**
     * object must have an ID
     * @param {?} object
     * @param {?} titleKey
     * @param {?=} childrenKey
     * @return {?}
     */
    function TransformToAutocompleteItem(object, titleKey, childrenKey) {
        if (childrenKey === void 0) {
            childrenKey = null;
        }
        /** @type {?} */
        var item = new AutocompleteItem(object[titleKey], object.id, object.className, object);
        /**
         * if there are children, add these.
         */
        if (childrenKey !== null) {
            item.children = object[childrenKey];
        }
        return item;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var UsedCodeList = {
        ArrowDown: 40,
        ArrowUp: 38,
        Enter: 13,
        Escape: 27,
        Tab: 9,
        MetaLeft: 91,
        AltLeft: 18,
        ControlLeft: 17,
        ShiftLeft: 16,
        ArrowLeft: 37,
        ArrowRight: 39,
        MetaRight: 93,
        AltRight: 18
    };
    /**
     *
     * @param {?} array
     * @return {?}
     */
    function ReturnStringArrayByID(array) {
        return array.reduce(function (result, item) {
            result.push(item.id.toString());
            return result;
        }, []);
    }
    /**
     *
     * @param {?} removals
     * @param {?} list
     * @return {?}
     */
    function FilterRemovals(removals, list) {
        return list.filter(function (item) {
            return removals.indexOf(item.id.toString()) <= -1;
        });
    }
    /**
     *
     * @return {?}
     */
    function IsMobileOrTablet() {
        /** @type {?} */
        var isMobile = false;
        if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)
            || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0, 4))) {
            isMobile = true;
        }
        return isMobile;
    }
    /**
     * @param {?} code
     * @return {?}
     */
    function NotUsedKey(code) {
        return typeof UsedCodeList[code] === 'undefined';
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var NgDropdownDirective = /** @class */ (function () {
        function NgDropdownDirective(_eref) {
            this._eref = _eref;
            this.list = [];
            this.active = null;
            this.parentDetector = null;
            this.input = null;
            this.element = null;
            this.key = '';
            this.completion = true;
            this.hover = new core.EventEmitter();
            this.selected = new core.EventEmitter();
            this.closed = new core.EventEmitter();
            this._open = false;
            this._list = [];
            this._class = '';
            this.inputKeydownBind = this.inputKeydown.bind(this);
            this.documentKeydownBind = this.documentKeydown.bind(this);
            this.mouseoverListenerBind = this.mouseoverListener.bind(this);
        }
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgDropdownDirective.prototype.ngOnInit = /**
         *
         * @return {?}
         */
            function () {
                this._class = "dr-item-" + this.key + "-";
                if (!IsMobileOrTablet()) {
                    this._eref.nativeElement.addEventListener('mouseover', this.mouseoverListenerBind);
                }
                /**
                 *
                 */
                this.PrepareList();
            };
        /**
         *
         */
        /**
         *
         * @param {?} changes
         * @return {?}
         */
        NgDropdownDirective.prototype.ngOnChanges = /**
         *
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (typeof changes['active'] !== 'undefined' && !changes['active'].firstChange) {
                    this.PrepareList();
                }
                if (typeof changes['list'] !== 'undefined') {
                    this.list = changes['list'].currentValue;
                    /**
                     *
                     */
                    this.PrepareList();
                }
            };
        /**
         *
         */
        /**
         *
         * @param {?} event
         * @return {?}
         */
        NgDropdownDirective.prototype.keyDown = /**
         *
         * @param {?} event
         * @return {?}
         */
            function (event) {
                event.stopImmediatePropagation();
                event.stopPropagation();
                /**
                 *
                 */
                switch (event.code) {
                    case 'ArrowDown':
                        this.Open();
                        /**
                         *
                         */
                        this.SetActive(this.FindActive() + 1);
                        this.DropdownFocusAreaDown();
                        event.preventDefault();
                        break;
                    case 'ArrowUp':
                        this.Open();
                        /**
                         *
                         */
                        this.SetActive(this.FindActive() - 1);
                        this.DropdownFocusAreaUp();
                        event.preventDefault();
                        break;
                    case 'Enter':
                        this.EmitSelected();
                        this.Close(null, true);
                        if (this.RefExists()) {
                            this.input.blur();
                        }
                        event.preventDefault();
                        break;
                    case 'Escape':
                        this.Close(null, true);
                        if (this.RefExists()) {
                            this.input.blur();
                        }
                        event.preventDefault();
                        break;
                    case 'Tab':
                        if (!event.shiftKey) {
                            this.EmitSelected();
                        }
                        this.Close(null, true);
                        break;
                    default:
                        return;
                }
            };
        /**
         *
         */
        /**
         *
         * @param {?} event
         * @return {?}
         */
        NgDropdownDirective.prototype.OnMouseOver = /**
         *
         * @param {?} event
         * @return {?}
         */
            function (event) {
                // Mouse didn't actually move, so no logic needed.
                if (event.movementX == 0 && event.movementY == 0) {
                    return;
                }
                /**
                 *
                 * @type {?}
                 */
                var el = event.target || event.srcElement;
                if (el.id.length > 0 && el.id.includes(this._class)) {
                    this.SetActive(Number(el.id.slice(this._class.length, el.id.length)));
                }
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgDropdownDirective.prototype.EmitSelected = /**
         *
         * @return {?}
         */
            function () {
                if (this.FindActive() > -1) {
                    this.selected.emit(this._list[this.FindActive()].key);
                }
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgDropdownDirective.prototype.DropdownFocusAreaDown = /**
         *
         * @return {?}
         */
            function () {
                /** @type {?} */
                var scroll = this._eref.nativeElement.offsetHeight + this._eref.nativeElement.scrollTop;
                /**
                 *
                 */
                if ((this.GetElement(this.FindActive()).offsetTop + this.GetElement(this.FindActive()).offsetHeight) > scroll) {
                    this._eref.nativeElement.scrollTop = this.GetElement(this.FindActive()).offsetTop - (this._eref.nativeElement.offsetHeight - this.GetElement(this.FindActive()).offsetHeight);
                }
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgDropdownDirective.prototype.DropdownFocusAreaUp = /**
         *
         * @return {?}
         */
            function () {
                /** @type {?} */
                var scroll = this._eref.nativeElement.scrollTop;
                /**
                 *
                 */
                if (this.GetElement(this.FindActive()).offsetTop < scroll && scroll > 0) {
                    this._eref.nativeElement.scrollTop = this.GetElement(this.FindActive()).offsetTop;
                }
            };
        Object.defineProperty(NgDropdownDirective.prototype, "opened", {
            // =======================================================================//
            // ! Bindings                                                             //
            // =======================================================================//
            /**
             *
             */
            get: 
            // =======================================================================//
            // ! Bindings                                                             //
            // =======================================================================//
            /**
             *
             * @return {?}
             */
            function () {
                return this._open;
            },
            enumerable: true,
            configurable: true
        });
        // =======================================================================//
        // ! Listeners                                                            //
        // =======================================================================//
        /**
         *
         */
        // =======================================================================//
        // ! Listeners                                                            //
        // =======================================================================//
        /**
         *
         * @param {?} event
         * @param {?=} force
         * @return {?}
         */
        NgDropdownDirective.prototype.Close =
            // =======================================================================//
            // ! Listeners                                                            //
            // =======================================================================//
            /**
             *
             * @param {?} event
             * @param {?=} force
             * @return {?}
             */
            function (event, force) {
                var _this = this;
                if (force === void 0) {
                    force = false;
                }
                if (!this._open) {
                    return;
                }
                /** @type {?} */
                var close = function () {
                    _this._open = false;
                    /**
                     * Emit NULL so listening components know what to do.
                     */
                    _this.RemoveListeners();
                    _this.ClearActive();
                    _this.hover.emit(null);
                    _this.closed.emit();
                };
                if (force) {
                    close();
                    return;
                }
                if ((this._open && (!this.element.contains(event.target)))) {
                    close();
                }
            };
        /**
         *
         */
        /**
         *
         * @private
         * @param {?} event
         * @return {?}
         */
        NgDropdownDirective.prototype.inputKeydown = /**
         *
         * @private
         * @param {?} event
         * @return {?}
         */
            function (event) {
                this.keyDown(event);
            };
        /**
         *
         */
        /**
         *
         * @private
         * @param {?} event
         * @return {?}
         */
        NgDropdownDirective.prototype.documentKeydown = /**
         *
         * @private
         * @param {?} event
         * @return {?}
         */
            function (event) {
                this.keyDown(event);
            };
        /**
         *
         */
        /**
         *
         * @private
         * @param {?} event
         * @return {?}
         */
        NgDropdownDirective.prototype.mouseoverListener = /**
         *
         * @private
         * @param {?} event
         * @return {?}
         */
            function (event) {
                this.OnMouseOver(event);
            };
        // =======================================================================//
        // ! Utils                                                                //
        // =======================================================================//
        /**
         *
         */
        // =======================================================================//
        // ! Utils                                                                //
        // =======================================================================//
        /**
         *
         * @return {?}
         */
        NgDropdownDirective.prototype.RegisterListeners =
            // =======================================================================//
            // ! Utils                                                                //
            // =======================================================================//
            /**
             *
             * @return {?}
             */
            function () {
                if (this.RefExists()) {
                    this.input.addEventListener('keydown', this.inputKeydownBind);
                }
                if (!this.completion) {
                    document.addEventListener('keydown', this.documentKeydownBind);
                }
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgDropdownDirective.prototype.RemoveListeners = /**
         *
         * @return {?}
         */
            function () {
                if (this.RefExists()) {
                    this.input.removeEventListener('keydown', this.inputKeydownBind);
                }
                if (!this.completion) {
                    document.removeEventListener('keydown', this.documentKeydownBind);
                }
                if (!IsMobileOrTablet()) {
                    this._eref.nativeElement.removeEventListener('mouseover', this.mouseoverListenerBind);
                }
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgDropdownDirective.prototype.Open = /**
         *
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout(function () {
                    if (!_this._open && !_this._eref.nativeElement.classList.contains('is-initial-empty')) {
                        _this.RegisterListeners();
                        _this._open = true;
                        _this.PrepareList();
                        /**
                         *
                         */
                        if (_this.FindActive() < 0) {
                            _this._eref.nativeElement.scrollTop = 0;
                        }
                        else {
                            _this._eref.nativeElement.scrollTop = _this.GetElement(_this.FindActive()).offsetHeight * _this.FindActive();
                        }
                        _this.parentDetector.detectChanges();
                    }
                }, 0);
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgDropdownDirective.prototype.RefExists = /**
         *
         * @return {?}
         */
            function () {
                return typeof this.input !== 'undefined';
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgDropdownDirective.prototype.FindActive = /**
         *
         * @return {?}
         */
            function () {
                return this._list.reduce(function (result, item, index) {
                    if (item.active) {
                        result = index;
                    }
                    return result;
                }, -1);
            };
        /**
         *
         */
        /**
         *
         * @param {?} index
         * @return {?}
         */
        NgDropdownDirective.prototype.SetActive = /**
         *
         * @param {?} index
         * @return {?}
         */
            function (index) {
                if (index > this._list.length - 1 || index < 0)
                    return;
                /**
                 *
                 */
                this.ClearActive();
                this._list[index].active = true;
                this.hover.emit(this._list[index].key);
                /**
                 *
                 */
                this.GetElement(index).classList.add('active');
            };
        /**
         *
         */
        /**
         *
         * @param {?} index
         * @return {?}
         */
        NgDropdownDirective.prototype.GetElement = /**
         *
         * @param {?} index
         * @return {?}
         */
            function (index) {
                return this._eref.nativeElement.children[index];
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgDropdownDirective.prototype.ClearActive = /**
         *
         * @return {?}
         */
            function () {
                var _this = this;
                this._list.forEach(function (item, index) {
                    item.active = false;
                    /**
                     *
                     */
                    _this.GetElement(index).classList.remove('active');
                });
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgDropdownDirective.prototype.PrepareList = /**
         *
         * @return {?}
         */
            function () {
                var _this = this;
                this._list = Object.keys(this.list).map(function (key) {
                    return {
                        key: key,
                        active: _this.ActiveItem(key)
                    };
                });
                /**
                 *
                 */
                this.PrepareChildrenList();
            };
        /**
         *
         */
        /**
         *
         * @param {?} item
         * @return {?}
         */
        NgDropdownDirective.prototype.ActiveItem = /**
         *
         * @param {?} item
         * @return {?}
         */
            function (item) {
                return this.active !== null && item === this.active;
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgDropdownDirective.prototype.DetermineActiveClass = /**
         *
         * @return {?}
         */
            function () {
                var _this = this;
                this._list.forEach(function (item, index) {
                    if (typeof _this.GetElement(index) === 'undefined') {
                        return;
                    }
                    /**
                     *
                     */
                    _this.GetElement(index).classList.remove('active');
                    if (item.active)
                        _this.GetElement(index).classList.add('active');
                });
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgDropdownDirective.prototype.PrepareChildrenList = /**
         *
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var list = this._eref.nativeElement.children;
                setTimeout(function () {
                    for (var i = 0; i < list.length; i++) {
                        list[i].id = _this._class + i;
                    }
                }, 0);
                /**
                 *
                 */
                this.DetermineActiveClass();
            };
        /**
         *
         */
        /**
         *
         * @param {?} object
         * @return {?}
         */
        NgDropdownDirective.prototype.DeReference = /**
         *
         * @param {?} object
         * @return {?}
         */
            function (object) {
                var item = object.item;
                /**
                 *
                 */
                return Object.assign({}, __assign({}, item));
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgDropdownDirective.prototype.ngOnDestroy = /**
         *
         * @return {?}
         */
            function () {
                this.RemoveListeners();
            };
        NgDropdownDirective.decorators = [
            { type: core.Directive, args: [{
                        selector: '[ngDropdown]'
                    },] }
        ];
        /** @nocollapse */
        NgDropdownDirective.ctorParameters = function () {
            return [
                { type: core.ElementRef }
            ];
        };
        NgDropdownDirective.propDecorators = {
            list: [{ type: core.Input }],
            active: [{ type: core.Input }],
            parentDetector: [{ type: core.Input }],
            input: [{ type: core.Input }],
            element: [{ type: core.Input }],
            key: [{ type: core.Input }],
            completion: [{ type: core.Input }],
            hover: [{ type: core.Output }],
            selected: [{ type: core.Output }],
            closed: [{ type: core.Output }],
            opened: [{ type: core.HostBinding, args: ['class.open',] }],
            Close: [{ type: core.HostListener, args: ['document:click', ['$event'],] }]
        };
        return NgDropdownDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompleterComponent = /** @class */ (function () {
        function CompleterComponent(_zone, cd) {
            this._zone = _zone;
            this.cd = cd;
            this.cleared = new core.EventEmitter();
            this.selected = new core.EventEmitter();
            this.noResult = new core.EventEmitter();
            this.group = ( /** @type {?} */({}));
            this._change = new rxjs.Subject();
            this._items = {};
            this._completer = '';
            this._highlight = '';
            this._disabled = false;
            this._DOM = {
                notFound: ( /** @type {?} */(false)),
                empty: ( /** @type {?} */(false)),
                placeholder: ( /** @type {?} */(null)),
                selected: ( /** @type {?} */('')),
                isLoading: ( /** @type {?} */(false))
            };
        }
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        CompleterComponent.prototype.ngOnInit = /**
         *
         * @return {?}
         */
            function () {
                var _this = this;
                this._zone.runOutsideAngular(function () {
                    _this._change.pipe(operators.debounceTime(300))
                        .subscribe(function (value) {
                        _this._zone.run(function () {
                            if (_this.group.async !== null) {
                                _this.RunAsyncFunction(value);
                            }
                            else {
                                _this.OnModelChange(value);
                            }
                            _this.cd.detectChanges();
                        });
                    });
                });
                this.SetItems();
            };
        /**
         * Only used when completion is off.
         */
        /**
         * Only used when completion is off.
         * @return {?}
         */
        CompleterComponent.prototype.RegisterClick = /**
         * Only used when completion is off.
         * @return {?}
         */
            function () {
                if (!this.group.completion) {
                    this.SwitchDropdownState();
                }
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        CompleterComponent.prototype.DropdownArray = /**
         *
         * @return {?}
         */
            function () {
                if (this.group.completion) {
                    this.SwitchDropdownState();
                }
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        CompleterComponent.prototype.SwitchDropdownState = /**
         *
         * @return {?}
         */
            function () {
                if (this.dropdown._open) {
                    this.CloseDropdown();
                    return;
                }
                /**
                 *
                 */
                this.OpenDropdown();
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        CompleterComponent.prototype.CloseDropdown = /**
         *
         * @return {?}
         */
            function () {
                this.dropdown._open = false;
                /**
                 *
                 */
                this._DOM.placeholder = null;
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        CompleterComponent.prototype.OpenDropdown = /**
         *
         * @return {?}
         */
            function () {
                this.dropdown.Open();
                /**
                 *
                 */
                this._DOM.placeholder = null;
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        CompleterComponent.prototype.SetItems = /**
         *
         * @return {?}
         */
            function () {
                this._items = this.group.value;
                this.IsInitialEmpty();
            };
        /**
         *
         */
        /**
         *
         * @param {?} item
         * @return {?}
         */
        CompleterComponent.prototype.SelectItem = /**
         *
         * @param {?} item
         * @return {?}
         */
            function (item) {
                /** @type {?} */
                var i;
                if (typeof item === 'string') {
                    i = this._items[item];
                    this._DOM.selected = item;
                }
                else {
                    i = item;
                    this._DOM.selected = SearchableAutoCompleteString(item.title, item.id);
                }
                this._completer = i.title;
                this._highlight = '';
                this.dropdown.Close(null, true);
                this.selected.emit({ group: { key: this.group.key }, item: i });
            };
        /**
         *
         */
        /**
         *
         * @param {?} value
         * @return {?}
         */
        CompleterComponent.prototype.RunAsyncFunction = /**
         *
         * @param {?} value
         * @return {?}
         */
            function (value) {
                return __awaiter(this, void 0, void 0, function () {
                    var values;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                this._completer = value;
                                this._highlight = value;
                                this._DOM.selected = null;
                                if (!(value.length === 0))
                                    return [3 /*break*/, 1];
                                this.group.InitialValue();
                                this.ClearModel();
                                this.dropdown.Close('', true);
                                return [3 /*break*/, 3];
                            case 1:
                                if (!(value.length > this.group.searchLength))
                                    return [3 /*break*/, 3];
                                this._DOM.isLoading = true;
                                return [4 /*yield*/, this.group.async(value)];
                            case 2:
                                values = _a.sent();
                                this.group.SetNewValue(values, this.group.keys.titleKey);
                                this._DOM.isLoading = false;
                                this._items = this.group.value;
                                this.EmptySearch(this._items, value);
                                // User has typed something now, results could be shown. We need to remove the "is-initial-empty" class.
                                this.IsInitialEmpty();
                                this.dropdown.Open();
                                _a.label = 3;
                            case 3:
                                this.cd.detectChanges();
                                return [2 /*return*/];
                        }
                    });
                });
            };
        /**
         *
         */
        /**
         *
         * @param {?} value
         * @return {?}
         */
        CompleterComponent.prototype.OnModelChange = /**
         *
         * @param {?} value
         * @return {?}
         */
            function (value) {
                this._completer = value;
                this._highlight = value;
                this._DOM.selected = null;
                if (value.length === 0) {
                    this.ClearModel();
                }
                else if (value.length > this.group.searchLength) {
                    this.CompareItemsAndSet(value);
                }
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        CompleterComponent.prototype.ClearModel = /**
         *
         * @return {?}
         */
            function () {
                this._DOM.selected = null;
                this._DOM.notFound = false;
                this.cleared.emit(this.group.key);
            };
        /**
         *
         */
        /**
         *
         * @param {?} value
         * @return {?}
         */
        CompleterComponent.prototype.CompareItemsAndSet = /**
         *
         * @param {?} value
         * @return {?}
         */
            function (value) {
                /** @type {?} */
                var obj = {};
                for (var key in this.group.value) {
                    if (ComparableAutoCompleteString(key).toLowerCase().indexOf(value.toLowerCase()) > -1) {
                        obj[key] = this.group.value[key];
                    }
                }
                this._items = obj;
                this.EmptySearch(this._items, value);
                // User has typed something now, results could be shown. We need to remove the "is-initial-empty" class.
                this.IsInitialEmpty();
                this.dropdown.Open();
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        CompleterComponent.prototype.OnInputBlurred = /**
         *
         * @return {?}
         */
            function () {
                if (!this.HasChosenValue()) {
                    /**
                     * Let component know completer input has been cleared -
                     * this function shows the list again, also resets children, if chosen.
                     */
                    this.OnModelChange('');
                }
            };
        /**
         *
         */
        /**
         *
         * @param {?} item
         * @return {?}
         */
        CompleterComponent.prototype.OnHoverDropdownItem = /**
         *
         * @param {?} item
         * @return {?}
         */
            function (item) {
                if (typeof item === 'string') {
                    this._DOM.placeholder = this._items[item];
                    return;
                }
                if (item == null) {
                    this._DOM.placeholder = null;
                    return;
                }
                this._DOM.placeholder = item;
            };
        // =======================================================================//
        // ! Utils                                                                //
        // =======================================================================//
        // =======================================================================//
        // ! Utils                                                                //
        // =======================================================================//
        /**
         * @return {?}
         */
        CompleterComponent.prototype.IsInitialEmpty =
            // =======================================================================//
            // ! Utils                                                                //
            // =======================================================================//
            /**
             * @return {?}
             */
            function () {
                if (Object.keys(this._items).length === 0 && this._completer.length === 0) {
                    this._DOM.empty = true;
                    return;
                }
                this._DOM.empty = false;
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        CompleterComponent.prototype.HasChosenValue = /**
         *
         * @return {?}
         */
            function () {
                return this._DOM.selected !== null;
            };
        /**
         *
         */
        /**
         *
         * @param {?} obj
         * @param {?} query
         * @return {?}
         */
        CompleterComponent.prototype.EmptySearch = /**
         *
         * @param {?} obj
         * @param {?} query
         * @return {?}
         */
            function (obj, query) {
                if (Object.keys(obj).length > 0) {
                    this._DOM.notFound = false;
                    return;
                }
                this._DOM.notFound = true;
                this.noResult.emit({ group: { key: this.group.key }, query: query });
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        CompleterComponent.prototype.ClearValue = /**
         *
         * @return {?}
         */
            function () {
                this._completer = '';
                this._DOM.selected = null;
                this.group.InitialValue();
                this.IsInitialEmpty();
                /**
                 *
                 */
                this.selected.emit({ group: { key: this.group.key }, item: null });
            };
        CompleterComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'ng-completer',
                        template: "\n        <div #element class=\"ng-autocomplete-dropdown\"\n             [ngClass]=\"{'open': dropdown._open, 'is-loading': _DOM.isLoading, 'is-async': group.async !== null}\">\n\n            <!--GROUP: {{group.key}}-->\n\n            <div class=\"ng-autocomplete-inputs\" (click)=\"RegisterClick()\"\n                 [ngClass]=\"{'completion-off': !group.completion}\">\n                <span class=\"ng-autocomplete-placeholder\"\n                      *ngIf=\"_DOM.placeholder\">\n                  <ng-container *ngIf=\"group.placeholderValue\">\n                      <ng-template *ngTemplateOutlet=\"group.placeholderValue; context: {$implicit: _DOM.placeholder}\"></ng-template>\n                  </ng-container>\n                  <ng-template [ngIf]=\"!group.placeholderValue\">\n                      {{_DOM.placeholder.title}}\n                  </ng-template>\n                </span>\n                <input #input type=\"text\" [placeholder]=\"group.placeholder\" name=\"completer\" [ngModel]=\"_completer\"\n                       (ngModelChange)=\"_change.next($event);\"\n                       [value]=\"_completer\"\n                       [tabIndex]=\"_disabled ? -1 : 0\"\n                       autocomplete=\"new-password\"\n                       (focus)=\"OpenDropdown()\" class=\"ng-autocomplete-input\">\n\n                <span [ngClass]=\"{'open': dropdown._open}\" class=\"ng-autocomplete-dropdown-icon\"\n                      (click)=\"DropdownArray()\"></span>\n            </div>\n\n            <div class=\"ng-dropdown\" ngDropdown [list]=\"_items\" [element]=\"element\" [input]=\"input\"\n                 [ngClass]=\"{'is-initial-empty': _DOM.empty}\"\n                 [active]=\"_DOM.selected\" [key]=\"group.key\"\n                 [completion]=\"group.completion\"\n                 [parentDetector]=\"cd\"\n                 (hover)=\"OnHoverDropdownItem($event)\"\n                 (selected)=\"SelectItem($event)\"\n                 (closed)=\"OnInputBlurred()\"\n            >\n                <div *ngIf=\"_DOM.notFound && group.noResults\" class=\"dropdown-item no-results\">\n                    <ng-container *ngIf=\"group.noResults\">\n                        <ng-template *ngTemplateOutlet=\"group.noResults; context: {$implicit: _completer}\"></ng-template>\n                    </ng-container>\n                </div>\n\n                <div class=\"dropdown-item\" *ngFor=\"let item of _items | keys; let i = index\"\n                     (click)=\"SelectItem(_items[item])\" [ngClass]=\"_items[item].className\">\n                    <ng-container *ngIf=\"group.dropdownValue\">\n                        <ng-template\n                            *ngTemplateOutlet=\"group.dropdownValue; context: {$implicit: _items[item], highlight: _items[item].title | highlight:_highlight}\"></ng-template>\n                    </ng-container>\n\n                    <div *ngIf=\"!group.dropdownValue\" [innerHTML]=\"_items[item].title | highlight:_highlight\"></div>\n                </div>\n            </div>\n        </div>",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        styles: ["\n        .ng-autocomplete-inputs {\n            position: relative;\n        }\n\n        .ng-autocomplete-inputs input[type=text]::-ms-clear,\n        .ng-autocomplete-inputs input[type=text]::-ms-reveal {\n            display: none;\n            width: 0;\n            height: 0;\n        }\n\n        .ng-autocomplete-inputs.completion-off {\n            cursor: pointer;\n        }\n\n        .ng-autocomplete-inputs.completion-off input {\n            pointer-events: none;\n        }\n\n        .ng-autocomplete-placeholder {\n            pointer-events: none;\n        }\n\n        .ng-autocomplete-dropdown-icon {\n\n        }\n\n        .ng-autocomplete-dropdown .ng-dropdown {\n            display: none;\n        }\n\n        .ng-autocomplete-dropdown .ng-dropdown.is-empty {\n            display: none;\n        }\n\n        .ng-autocomplete-dropdown .ng-dropdown.open {\n            display: block;\n        }\n    "]
                    }] }
        ];
        /** @nocollapse */
        CompleterComponent.ctorParameters = function () {
            return [
                { type: core.NgZone },
                { type: core.ChangeDetectorRef }
            ];
        };
        CompleterComponent.propDecorators = {
            dropdown: [{ type: core.ViewChild, args: [NgDropdownDirective,] }],
            cleared: [{ type: core.Output }],
            selected: [{ type: core.Output }],
            noResult: [{ type: core.Output, args: ['no-result',] }],
            group: [{ type: core.Input }]
        };
        return CompleterComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var NgAutoCompleteComponent = /** @class */ (function () {
        function NgAutoCompleteComponent(cdr) {
            this.cdr = cdr;
            this.selected = new core.EventEmitter();
            this.noResult = new core.EventEmitter();
            this.group = [];
            this.key = '';
            this.classes = [];
            this._viewHasBeenInit = false;
            this._viewInitSubject = new rxjs.Subject();
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.ngOnInit = /**
         *
         * @return {?}
         */
            function () {
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.ngAfterViewChecked = /**
         *
         * @return {?}
         */
            function () {
                if (!this._viewHasBeenInit) {
                    /** @type {?} */
                    var el = this.init.nativeElement.querySelector('.after-view-init');
                    if (window.getComputedStyle(el).length > 0) {
                        this._viewHasBeenInit = true;
                        this._viewInitSubject.next(true);
                    }
                }
            };
        /**
         *
         */
        /**
         *
         * @param {?} selected
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.ListenToSelected = /**
         *
         * @param {?} selected
         * @return {?}
         */
            function (selected) {
                this.selected.emit(selected);
                /**
                 *
                 */
                this.SetChildren(selected);
            };
        /**
         *
         */
        /**
         *
         * @param {?} group
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.NoResult = /**
         *
         * @param {?} group
         * @return {?}
         */
            function (group) {
                this.noResult.emit(group);
            };
        /**
         *
         */
        /**
         *
         * @param {?} key
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.InputCleared = /**
         *
         * @param {?} key
         * @return {?}
         */
            function (key) {
                var _this = this;
                this.group.forEach(function (group) {
                    if (group.key === key || group.parent === key) {
                        _this.ResetInput(group.key);
                    }
                });
                /**
                 * Items may have changed, need to te re-set list in completer components.
                 */
                this.TriggerChange();
            };
        /**
         *
         */
        /**
         *
         * @param {?} selected
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.SetChildren = /**
         *
         * @param {?} selected
         * @return {?}
         */
            function (selected) {
                var _this = this;
                this.group.forEach(function (item) {
                    if (item.parent == selected.group.key) {
                        _this.ResetInput(item.key);
                        /**
                         *
                         */
                        if (selected.item !== null && typeof selected.item.children !== 'undefined') {
                            item.SetNewValue(selected.item.children, selected.group.keys.titleKey);
                        }
                    }
                });
                /**
                 * Items may have changed, need to te re-set list in completer components.
                 */
                this.TriggerChange();
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.TriggerChange = /**
         *
         * @return {?}
         */
            function () {
                this.completers.forEach(function (completer) {
                    completer.SetItems();
                });
            };
        // =======================================================================//
        // ! Utils                                                                //
        // =======================================================================//
        /**
         *
         */
        // =======================================================================//
        // ! Utils                                                                //
        // =======================================================================//
        /**
         *
         * @param {?} key
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.GetInput =
            // =======================================================================//
            // ! Utils                                                                //
            // =======================================================================//
            /**
             *
             * @param {?} key
             * @return {?}
             */
            function (key) {
                return this.completers.reduce(function (result, completer) {
                    if (completer.group.key === key) {
                        result = completer;
                    }
                    return result;
                }, ( /** @type {?} */({})));
            };
        /**
         *
         */
        /**
         *
         * @param {?} key
         * @param {?} f
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.SubscribeInput = /**
         *
         * @param {?} key
         * @param {?} f
         * @return {?}
         */
            function (key, f) {
                var _this = this;
                if (this._viewHasBeenInit) {
                    /** @type {?} */
                    var completer = this.GetInput(key);
                    /**
                     *
                     */
                    f(completer);
                    return;
                }
                this._viewInitSubject.subscribe(function (_bool) {
                    /** @type {?} */
                    var completer = _this.GetInput(key);
                    setTimeout(function () {
                        f(completer);
                    });
                    _this._viewInitSubject.unsubscribe();
                });
            };
        /**
         *
         */
        /**
         *
         * @param {?} key
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.ResetInput = /**
         *
         * @param {?} key
         * @return {?}
         */
            function (key) {
                this.SubscribeInput(key, function (completer) {
                    completer.ClearValue();
                });
            };
        /**
         *
         */
        /**
         *
         * @param {?} key
         * @param {?} values
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.SetValues = /**
         *
         * @param {?} key
         * @param {?} values
         * @return {?}
         */
            function (key, values) {
                var _this = this;
                this.SubscribeInput(key, function (completer) {
                    completer.group.SetValues(values);
                    /**
                     * Items may have changed, need to te re-set list in completer components.
                     */
                    _this.TriggerChange();
                });
            };
        /**
         *
         */
        /**
         *
         * @param {?} key
         * @param {?} type
         * @param {?} template
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.SetTemplate = /**
         *
         * @param {?} key
         * @param {?} type
         * @param {?} template
         * @return {?}
         */
            function (key, type, template) {
                var _this = this;
                this.SubscribeInput(key, function (completer) {
                    completer.group[type] = template;
                    /**
                     * Items may have changed, need to te re-set list in completer components.
                     */
                    _this.TriggerChange();
                });
            };
        /**
         *
         */
        /**
         *
         * @param {?} key
         * @param {?} promise
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.SetAsync = /**
         *
         * @param {?} key
         * @param {?} promise
         * @return {?}
         */
            function (key, promise) {
                var _this = this;
                this.SubscribeInput(key, function (completer) {
                    completer.group.async = promise;
                    /**
                     * Items may have changed, need to te re-set list in completer components.
                     */
                    _this.TriggerChange();
                });
            };
        /**
         *
         */
        /**
         *
         * @param {?} key
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.SetEnable = /**
         *
         * @param {?} key
         * @return {?}
         */
            function (key) {
                var _this = this;
                this.SubscribeInput(key, function (completer) {
                    completer._disabled = false;
                    /**
                     * Items may have changed, need to te re-set list in completer components.
                     */
                    _this.TriggerChange();
                });
            };
        /**
         *
         */
        /**
         *
         * @param {?} key
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.SetDisable = /**
         *
         * @param {?} key
         * @return {?}
         */
            function (key) {
                var _this = this;
                this.SubscribeInput(key, function (completer) {
                    completer._disabled = true;
                    /**
                     * Items may have changed, need to te re-set list in completer components.
                     */
                    _this.TriggerChange();
                });
            };
        /**
         *
         */
        /**
         *
         * @param {?} key
         * @param {?} id
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.SelectItem = /**
         *
         * @param {?} key
         * @param {?} id
         * @return {?}
         */
            function (key, id) {
                this.SubscribeInput(key, function (completer) {
                    Object.keys(completer._items).forEach(function (key) {
                        /** @type {?} */
                        var f = "_id_" + String(id);
                        /** @type {?} */
                        var c = key.substring(key.indexOf(f), key.length);
                        if (f === c) {
                            completer.SelectItem(completer._items[key]);
                        }
                    });
                });
            };
        /**
         *
         */
        /**
         *
         * @param {?} key
         * @param {?} ids
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.RemovableValues = /**
         *
         * @param {?} key
         * @param {?} ids
         * @return {?}
         */
            function (key, ids) {
                var _this = this;
                this.SubscribeInput(key, function (completer) {
                    completer.group.Removables(ReturnStringArrayByID(ids));
                    /**
                     * Items may have changed, need to te re-set list in completer components.
                     */
                    _this.TriggerChange();
                });
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        NgAutoCompleteComponent.prototype.ResetInputs = /**
         *
         * @return {?}
         */
            function () {
                var _this = this;
                this.group.forEach(function (item) {
                    _this.ResetInput(item.key);
                });
            };
        // =======================================================================//
        // ! Static (utils)                                                       //
        // =======================================================================//
        /**
         *
         */
        // =======================================================================//
        // ! Static (utils)                                                       //
        // =======================================================================//
        /**
         *
         * @param {?} key
         * @param {?} list
         * @return {?}
         */
        NgAutoCompleteComponent.FindCompleter =
            // =======================================================================//
            // ! Static (utils)                                                       //
            // =======================================================================//
            /**
             *
             * @param {?} key
             * @param {?} list
             * @return {?}
             */
            function (key, list) {
                /** @type {?} */
                var completer = list.filter(function (completer) {
                    return key === completer.key;
                });
                if (typeof completer[0] !== 'undefined') {
                    return completer[0];
                }
                return null;
            };
        NgAutoCompleteComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'ng-auto-complete',
                        template: "\n        <div #init style=\"display: none;\"><span class=\"after-view-init\"></span></div>\n        <ng-completer [ngClass]=\"classes\" *ngFor=\"let item of group\" (cleared)=\"InputCleared($event)\"\n                      (no-result)=\"NoResult($event)\"\n                      (selected)=\"ListenToSelected($event)\"\n                      [group]=\"item\"></ng-completer>\n    "
                    }] }
        ];
        /** @nocollapse */
        NgAutoCompleteComponent.ctorParameters = function () {
            return [
                { type: core.ChangeDetectorRef }
            ];
        };
        NgAutoCompleteComponent.propDecorators = {
            completers: [{ type: core.ViewChildren, args: [CompleterComponent,] }],
            init: [{ type: core.ViewChild, args: ['init',] }],
            selected: [{ type: core.Output }],
            noResult: [{ type: core.Output, args: ['no-result',] }],
            group: [{ type: core.Input }],
            key: [{ type: core.Input }],
            classes: [{ type: core.Input }]
        };
        return NgAutoCompleteComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var HighlightPipe = /** @class */ (function () {
        function HighlightPipe() {
        }
        /**
         * @param {?} text
         * @param {?} search
         * @return {?}
         */
        HighlightPipe.prototype.transform = /**
         * @param {?} text
         * @param {?} search
         * @return {?}
         */
            function (text, search) {
                if (search.length > 0) {
                    return this.Strip(text).replace(new RegExp("" + this.EscapeMatch(search), 'gi'), function (match) {
                        return "<span class=\"dropdown-item-highlight\">" + match + "</span>";
                    });
                }
                else {
                    return text;
                }
            };
        /**
         * @param {?} match
         * @return {?}
         */
        HighlightPipe.prototype.EscapeMatch = /**
         * @param {?} match
         * @return {?}
         */
            function (match) {
                /** @type {?} */
                var entityMap = {
                    '&': '\\&',
                    '<': '\\<',
                    '>': '\\>',
                    '/': '\\/',
                    '=': '\\=',
                    '+': '\\+',
                    '-': '\\-',
                    '#': '\\#',
                    '!': '\\!',
                    '@': '\\@',
                    '$': '\\$',
                    '%': '\\%',
                    '^': '\\^',
                    '*': '\\*',
                    '(': '\\(',
                    ')': '\\)',
                };
                return String(match).replace(/[&<>"'`=+\/]/g, function (s) {
                    return entityMap[s];
                });
            };
        /**
         * @param {?=} str_in
         * @return {?}
         */
        HighlightPipe.prototype.Strip = /**
         * @param {?=} str_in
         * @return {?}
         */
            function (str_in) {
                if (str_in === void 0) {
                    str_in = '';
                }
                return str_in.replace(/<[^>]*>/g, '');
            };
        HighlightPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'highlight'
                    },] }
        ];
        return HighlightPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var KeyValuePipe = /** @class */ (function () {
        function KeyValuePipe() {
        }
        /**
         * @param {?} value
         * @param {?=} args
         * @return {?}
         */
        KeyValuePipe.prototype.transform = /**
         * @param {?} value
         * @param {?=} args
         * @return {?}
         */
            function (value, args) {
                /** @type {?} */
                var keys = [];
                for (var key in value) {
                    if (value.hasOwnProperty(key)) {
                        keys.push(key);
                    }
                }
                return keys;
            };
        KeyValuePipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'keys'
                    },] }
        ];
        return KeyValuePipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PipeModule = /** @class */ (function () {
        function PipeModule() {
        }
        /**
         * @return {?}
         */
        PipeModule.forRoot = /**
         * @return {?}
         */
            function () {
                return {
                    ngModule: PipeModule,
                    providers: [],
                };
            };
        PipeModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [],
                        declarations: [HighlightPipe, KeyValuePipe],
                        exports: [HighlightPipe, KeyValuePipe],
                    },] }
        ];
        return PipeModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var NgAutoCompleteModule = /** @class */ (function () {
        function NgAutoCompleteModule() {
        }
        NgAutoCompleteModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            forms.FormsModule,
                            PipeModule.forRoot()
                        ],
                        exports: [
                            NgAutoCompleteComponent,
                            CompleterComponent,
                        ],
                        declarations: [
                            NgAutoCompleteComponent,
                            CompleterComponent,
                            NgDropdownDirective
                        ]
                    },] }
        ];
        return NgAutoCompleteModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var AutocompleteGroup = /** @class */ (function () {
        function AutocompleteGroup() {
            this.async = null;
            this.removals = [];
        }
        /**
         *
         */
        /**
         *
         * @param {?} value
         * @param {?} titleKey
         * @return {?}
         */
        AutocompleteGroup.prototype.SetNewValue = /**
         *
         * @param {?} value
         * @param {?} titleKey
         * @return {?}
         */
            function (value, titleKey) {
                /** @type {?} */
                var values = SearchableAutoCompleteItems(value, titleKey);
                this.SetCopy(values);
                /**
                 *
                 */
                this.value = this.FilterRemovals(this.removals, values);
            };
        /**
         *
         */
        /**
         *
         * @param {?} ids
         * @return {?}
         */
        AutocompleteGroup.prototype.Removables = /**
         *
         * @param {?} ids
         * @return {?}
         */
            function (ids) {
                this.removals = ids;
                /**
                 *
                 */
                this.value = this.FilterRemovals(this.removals, this._copy);
            };
        /**
         *
         */
        /**
         *
         * @return {?}
         */
        AutocompleteGroup.prototype.InitialValue = /**
         *
         * @return {?}
         */
            function () {
                this.value = this.FilterRemovals(this.removals, this.initialValue);
                /**
                 *
                 */
                this.SetCopy(this.initialValue);
            };
        /**
         *
         */
        /**
         *
         * @param {?} values
         * @return {?}
         */
        AutocompleteGroup.prototype.SetCopy = /**
         *
         * @param {?} values
         * @return {?}
         */
            function (values) {
                this._copy = Object.assign([], values);
            };
        /**
         *
         */
        /**
         *
         * @param {?} value
         * @return {?}
         */
        AutocompleteGroup.prototype.SetValues = /**
         *
         * @param {?} value
         * @return {?}
         */
            function (value) {
                this.value = SearchableAutoCompleteItems(value, this.keys.titleKey, this.keys.childrenKey);
                /**
                 *
                 */
                this.initialValue = Object.assign({}, this.value);
                this.SetCopy(Object.assign({}, this.value));
            };
        /**
         *
         */
        /**
         *
         * @param {?} removals
         * @param {?} value
         * @return {?}
         */
        AutocompleteGroup.prototype.FilterRemovals = /**
         *
         * @param {?} removals
         * @param {?} value
         * @return {?}
         */
            function (removals, value) {
                /** @type {?} */
                var filtered = Object.assign({}, value);
                /** @type {?} */
                var key;
                /** @type {?} */
                var keys = [];
                for (key in filtered) {
                    if (filtered.hasOwnProperty(key)) {
                        removals.forEach(function (id) {
                            // Comparable string and ID
                            /** @type {?} */
                            var f = "_id_" + String(id);
                            /** @type {?} */
                            var c = key.substring(key.indexOf(f), key.length);
                            if (f === c) {
                                keys.push(key);
                            }
                        });
                    }
                }
                keys.forEach(function (k) {
                    delete filtered[k];
                });
                return filtered;
            };
        return AutocompleteGroup;
    }());
    /**
     *
     * @template T
     * @param {?} placeholder
     * @param {?} key
     * @param {?} value
     * @param {?} keys
     * @param {?=} parent
     * @param {?=} completion
     * @param {?=} searchLength
     * @return {?}
     */
    function CreateNewAutocompleteGroup(placeholder, key, value, keys, parent, completion, searchLength) {
        if (parent === void 0) {
            parent = '';
        }
        if (completion === void 0) {
            completion = true;
        }
        if (searchLength === void 0) {
            searchLength = 2;
        }
        /** @type {?} */
        var group = new AutocompleteGroup();
        group.key = key;
        group.keys = keys;
        group.placeholder = placeholder;
        group.parent = parent;
        group.completion = completion;
        group.searchLength = searchLength;
        /**
         * Initial value needed, if we empty search box or want to clear it, it needs to be reset.
         * Setting copy, used if user wants to remove values (by id.). This _ list gets filtered.
         */
        group.SetValues(value);
        return group;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    exports.NgAutoCompleteComponent = NgAutoCompleteComponent;
    exports.NgAutoCompleteModule = NgAutoCompleteModule;
    exports.PipeModule = PipeModule;
    exports.SearchableAutoCompleteItems = SearchableAutoCompleteItems;
    exports.SearchableAutoCompleteString = SearchableAutoCompleteString;
    exports.ComparableAutoCompleteString = ComparableAutoCompleteString;
    exports.TransformToAutocompleteItem = TransformToAutocompleteItem;
    exports.AutocompleteItem = AutocompleteItem;
    exports.CreateNewAutocompleteGroup = CreateNewAutocompleteGroup;
    exports.AutocompleteGroup = AutocompleteGroup;
    exports.ReturnStringArrayByID = ReturnStringArrayByID;
    exports.FilterRemovals = FilterRemovals;
    exports.IsMobileOrTablet = IsMobileOrTablet;
    exports.NotUsedKey = NotUsedKey;
    exports.a = CompleterComponent;
    exports.b = NgDropdownDirective;
    exports.c = HighlightPipe;
    exports.d = KeyValuePipe;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctYXV0by1jb21wbGV0ZS51bWQuanMubWFwIiwic291cmNlcyI6WyJub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwibmc6Ly9uZy1hdXRvLWNvbXBsZXRlL2xpYi9jbGFzc2VzL0F1dG9jb21wbGV0ZUl0ZW0udHMiLCJuZzovL25nLWF1dG8tY29tcGxldGUvbGliL3V0aWxzL3V0aWxzLnRzIiwibmc6Ly9uZy1hdXRvLWNvbXBsZXRlL2xpYi9kcm9wZG93bi9uZy1kcm9wZG93bi5kaXJlY3RpdmUudHMiLCJuZzovL25nLWF1dG8tY29tcGxldGUvbGliL2NvbXBsZXRlci9jb21wbGV0ZXIuY29tcG9uZW50LnRzIiwibmc6Ly9uZy1hdXRvLWNvbXBsZXRlL2xpYi9uZy1hdXRvLWNvbXBsZXRlLmNvbXBvbmVudC50cyIsIm5nOi8vbmctYXV0by1jb21wbGV0ZS9saWIvcGlwZXMvaGlnaGxpZ2h0LnRzIiwibmc6Ly9uZy1hdXRvLWNvbXBsZXRlL2xpYi9waXBlcy9rZXktdmFsdWUudHMiLCJuZzovL25nLWF1dG8tY29tcGxldGUvbGliL3BpcGVzL3BpcGVzLm1vZHVsZS50cyIsIm5nOi8vbmctYXV0by1jb21wbGV0ZS9saWIvbmctYXV0by1jb21wbGV0ZS5tb2R1bGUudHMiLCJuZzovL25nLWF1dG8tY29tcGxldGUvbGliL2NsYXNzZXMvQXV0b2NvbXBsZXRlR3JvdXAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG4iLCJleHBvcnQgaW50ZXJmYWNlIFN0cmlwcGVkQXV0b2NvbXBsZXRlR3JvdXAge1xuICAgIGdyb3VwOiB7IGtleTogc3RyaW5nIH07XG4gICAgaXRlbTogQXV0b2NvbXBsZXRlSXRlbTtcbn1cblxuZXhwb3J0IGNsYXNzIEF1dG9jb21wbGV0ZUl0ZW0ge1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgaWQ/OiBzdHJpbmcgfCBudW1iZXI7XG4gICAgY2hpbGRyZW46IGFueVtdO1xuICAgIG9yaWdpbmFsOiBhbnk7XG4gICAgY2xhc3NOYW1lOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcih0aXRsZTogc3RyaW5nLCBpZDogc3RyaW5nIHwgbnVtYmVyLCBjbGFzc05hbWU6IHN0cmluZywgb3JpZ2luYWw6IGFueSkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgIHRoaXMub3JpZ2luYWwgPSBvcmlnaW5hbDtcbiAgICB9XG59XG5cbi8qKlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNlYXJjaGFibGVBdXRvQ29tcGxldGVJdGVtcyhpdGVtczogeyBpZD86IHN0cmluZyB8IG51bWJlcjsgW3ZhbHVlOiBzdHJpbmddOiBhbnkgfVtdLCB0aXRsZUtleTogc3RyaW5nLCBjaGlsZHJlbktleTogc3RyaW5nIHwgbnVsbCA9IG51bGwpOiB7IFt2YWx1ZTogc3RyaW5nXTogQXV0b2NvbXBsZXRlSXRlbSB9IHtcbiAgICByZXR1cm4gaXRlbXMucmVkdWNlKGZ1bmN0aW9uIChyLCBpKSB7XG4gICAgICAgIGNvbnN0IHQgPSBTZWFyY2hhYmxlQXV0b0NvbXBsZXRlU3RyaW5nKGlbdGl0bGVLZXldLCBpLmlkKTtcblxuICAgICAgICBpZiAodHlwZW9mIHJbdF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByW3RdID0gVHJhbnNmb3JtVG9BdXRvY29tcGxldGVJdGVtKGksIHRpdGxlS2V5LCBjaGlsZHJlbktleSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcjtcbiAgICB9LCB7fSk7XG59XG5cbi8qKlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNlYXJjaGFibGVBdXRvQ29tcGxldGVTdHJpbmcoa2V5OiBzdHJpbmcsIGlkOiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgICByZXR1cm4gYCR7a2V5LnJlcGxhY2UoLyAvZywgJ18nKX1faWRfJHtTdHJpbmcoaWQpfWA7XG59XG5cbi8qKlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbXBhcmFibGVBdXRvQ29tcGxldGVTdHJpbmcoc3RyOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL18vZywgJyAnKTtcbn1cblxuLyoqXG4gKiBvYmplY3QgbXVzdCBoYXZlIGFuIElEXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zZm9ybVRvQXV0b2NvbXBsZXRlSXRlbShvYmplY3Q6IHsgaWQ/OiBzdHJpbmcgfCBudW1iZXI7IFt2YWx1ZTogc3RyaW5nXTogYW55LCBjbGFzc05hbWU/OiBzdHJpbmcgfSwgdGl0bGVLZXk6IHN0cmluZywgY2hpbGRyZW5LZXk6IHN0cmluZyB8IG51bGwgPSBudWxsKSB7XG4gICAgY29uc3QgaXRlbSA9IG5ldyBBdXRvY29tcGxldGVJdGVtKG9iamVjdFt0aXRsZUtleV0sIG9iamVjdC5pZCwgb2JqZWN0LmNsYXNzTmFtZSwgb2JqZWN0KTtcblxuICAgIC8qKlxuICAgICAqIGlmIHRoZXJlIGFyZSBjaGlsZHJlbiwgYWRkIHRoZXNlLlxuICAgICAqL1xuICAgIGlmIChjaGlsZHJlbktleSAhPT0gbnVsbCkge1xuICAgICAgICBpdGVtLmNoaWxkcmVuID0gb2JqZWN0W2NoaWxkcmVuS2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXRlbTtcbn1cbiIsImltcG9ydCB7IEF1dG9jb21wbGV0ZUl0ZW0gfSBmcm9tICcuLi9jbGFzc2VzL0F1dG9jb21wbGV0ZUl0ZW0nO1xuXG5jb25zdCBVc2VkQ29kZUxpc3QgPSB7XG4gICAgQXJyb3dEb3duOiAgICAgIDQwLFxuICAgIEFycm93VXA6ICAgICAgICAzOCxcbiAgICBFbnRlcjogICAgICAgICAgMTMsXG4gICAgRXNjYXBlOiAgICAgICAgIDI3LFxuICAgIFRhYjogICAgICAgICAgICA5LFxuICAgIE1ldGFMZWZ0OiAgICAgICA5MSxcbiAgICBBbHRMZWZ0OiAgICAgICAgMTgsXG4gICAgQ29udHJvbExlZnQ6ICAgIDE3LFxuICAgIFNoaWZ0TGVmdDogICAgICAxNixcbiAgICBBcnJvd0xlZnQ6ICAgICAgMzcsXG4gICAgQXJyb3dSaWdodDogICAgIDM5LFxuICAgIE1ldGFSaWdodDogICAgICA5MyxcbiAgICBBbHRSaWdodDogICAgICAgMThcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JvdXBOb1Jlc3VsdCB7XG4gICAgZ3JvdXA6IHtrZXk6IHN0cmluZ307XG4gICAgcXVlcnk6IHN0cmluZztcbn1cblxuLyoqXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gUmV0dXJuU3RyaW5nQXJyYXlCeUlEKGFycmF5OiB7IGlkOiBzdHJpbmcgfCBudW1iZXIsIFt2YWx1ZTogc3RyaW5nXTogYW55IH1bXSkge1xuICAgIHJldHVybiBhcnJheS5yZWR1Y2UoKHJlc3VsdCwgaXRlbSkgPT4ge1xuICAgICAgICByZXN1bHQucHVzaChpdGVtLmlkLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9LCBbXSlcbn1cblxuLyoqXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gRmlsdGVyUmVtb3ZhbHMocmVtb3ZhbHM6IHN0cmluZ1tdLCBsaXN0OiBBdXRvY29tcGxldGVJdGVtW10pIHtcbiAgICByZXR1cm4gbGlzdC5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIHJlbW92YWxzLmluZGV4T2YoaXRlbS5pZC50b1N0cmluZygpKSA8PSAtMTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gSXNNb2JpbGVPclRhYmxldCgpIHtcbiAgICBsZXQgaXNNb2JpbGUgPSBmYWxzZTtcbiAgICBpZiAoLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlwYWR8aXJpc3xraW5kbGV8QW5kcm9pZHxTaWxrfGxnZSB8bWFlbW98bWlkcHxtbXB8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgKGNlfHBob25lKXx4ZGF8eGlpbm8vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG4gICAgICAgIHx8IC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudC5zdWJzdHIoMCwgNCkpKSB7XG4gICAgICAgIGlzTW9iaWxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNNb2JpbGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE5vdFVzZWRLZXkoY29kZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBVc2VkQ29kZUxpc3RbY29kZV0gPT09ICd1bmRlZmluZWQnO1xufVxuIiwiaW1wb3J0IHtcbiAgICBEaXJlY3RpdmUsXG4gICAgRWxlbWVudFJlZixcbiAgICBFdmVudEVtaXR0ZXIsXG4gICAgSG9zdEJpbmRpbmcsXG4gICAgSG9zdExpc3RlbmVyLFxuICAgIElucHV0LFxuICAgIE9uQ2hhbmdlcyxcbiAgICBPbkRlc3Ryb3ksXG4gICAgT25Jbml0LFxuICAgIE91dHB1dCxcbiAgICBTaW1wbGVDaGFuZ2VzLFxuICAgIENoYW5nZURldGVjdG9yUmVmXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtJc01vYmlsZU9yVGFibGV0fSBmcm9tICcuLi91dGlscy91dGlscyc7XG5cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnW25nRHJvcGRvd25dJ1xufSlcbmV4cG9ydCBjbGFzcyBOZ0Ryb3Bkb3duRGlyZWN0aXZlIGltcGxlbWVudHMgT25DaGFuZ2VzLCBPbkluaXQsIE9uRGVzdHJveSB7XG4gICAgQElucHV0KCkgcHVibGljIGxpc3Q6IGFueVtdID0gW107XG4gICAgQElucHV0KCkgcHVibGljIGFjdGl2ZTogYW55ID0gbnVsbDtcbiAgICBASW5wdXQoKSBwdWJsaWMgcGFyZW50RGV0ZWN0b3I6IENoYW5nZURldGVjdG9yUmVmID0gbnVsbDtcblxuICAgIEBJbnB1dCgpIHB1YmxpYyBpbnB1dDogSFRNTEVsZW1lbnQgPSBudWxsO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBlbGVtZW50OiBFbGVtZW50ID0gbnVsbDtcblxuICAgIEBJbnB1dCgpIHB1YmxpYyBrZXk6IHN0cmluZyA9ICcnO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBjb21wbGV0aW9uOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIEBPdXRwdXQoKSBwdWJsaWMgaG92ZXI6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gICAgQE91dHB1dCgpIHB1YmxpYyBzZWxlY3RlZDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgICBAT3V0cHV0KCkgcHVibGljIGNsb3NlZDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAgIF9vcGVuOiBib29sZWFuID0gZmFsc2U7XG4gICAgX2xpc3Q6IHsgYWN0aXZlOiBib29sZWFuLCBbdmFsdWU6IHN0cmluZ106IGFueSB9W10gPSBbXTtcbiAgICBfY2xhc3M6IHN0cmluZyA9ICcnO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIF9lcmVmOiBFbGVtZW50UmVmKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5fY2xhc3MgPSBgZHItaXRlbS0ke3RoaXMua2V5fS1gO1xuXG4gICAgICAgIGlmICghSXNNb2JpbGVPclRhYmxldCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9lcmVmLm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5tb3VzZW92ZXJMaXN0ZW5lckJpbmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLlByZXBhcmVMaXN0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhbmdlc1snYWN0aXZlJ10gIT09ICd1bmRlZmluZWQnICYmICFjaGFuZ2VzWydhY3RpdmUnXS5maXJzdENoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5QcmVwYXJlTGlzdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2hhbmdlc1snbGlzdCddICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5saXN0ID0gY2hhbmdlc1snbGlzdCddLmN1cnJlbnRWYWx1ZTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLlByZXBhcmVMaXN0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGtleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgc3dpdGNoIChldmVudC5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAgICAgICAgIHRoaXMuT3BlbigpO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLlNldEFjdGl2ZSh0aGlzLkZpbmRBY3RpdmUoKSArIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuRHJvcGRvd25Gb2N1c0FyZWFEb3duKCk7XG5cbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgICAgICAgdGhpcy5PcGVuKCk7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuU2V0QWN0aXZlKHRoaXMuRmluZEFjdGl2ZSgpIC0gMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5Ecm9wZG93bkZvY3VzQXJlYVVwKCk7XG5cbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICAgICAgICAgIHRoaXMuRW1pdFNlbGVjdGVkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5DbG9zZShudWxsLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLlJlZkV4aXN0cygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQuYmx1cigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdFc2NhcGUnOlxuICAgICAgICAgICAgICAgIHRoaXMuQ2xvc2UobnVsbCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5SZWZFeGlzdHMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmJsdXIoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVGFiJzpcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuRW1pdFNlbGVjdGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5DbG9zZShudWxsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBPbk1vdXNlT3ZlcihldmVudDogTW91c2VFdmVudCkge1xuICAgICAgICAvLyBNb3VzZSBkaWRuJ3QgYWN0dWFsbHkgbW92ZSwgc28gbm8gbG9naWMgbmVlZGVkLlxuICAgICAgICBpZiAoZXZlbnQubW92ZW1lbnRYID09IDAgJiYgZXZlbnQubW92ZW1lbnRZID09IDApIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBlbDogYW55ID0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQ7XG4gICAgICAgIGlmIChlbC5pZC5sZW5ndGggPiAwICYmIGVsLmlkLmluY2x1ZGVzKHRoaXMuX2NsYXNzKSkge1xuICAgICAgICAgICAgdGhpcy5TZXRBY3RpdmUoTnVtYmVyKGVsLmlkLnNsaWNlKHRoaXMuX2NsYXNzLmxlbmd0aCwgZWwuaWQubGVuZ3RoKSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBFbWl0U2VsZWN0ZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLkZpbmRBY3RpdmUoKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmVtaXQodGhpcy5fbGlzdFt0aGlzLkZpbmRBY3RpdmUoKV0ua2V5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgRHJvcGRvd25Gb2N1c0FyZWFEb3duKCkge1xuICAgICAgICBsZXQgc2Nyb2xsID0gdGhpcy5fZXJlZi5uYXRpdmVFbGVtZW50Lm9mZnNldEhlaWdodCArIHRoaXMuX2VyZWYubmF0aXZlRWxlbWVudC5zY3JvbGxUb3A7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoKHRoaXMuR2V0RWxlbWVudCh0aGlzLkZpbmRBY3RpdmUoKSkub2Zmc2V0VG9wICsgdGhpcy5HZXRFbGVtZW50KHRoaXMuRmluZEFjdGl2ZSgpKS5vZmZzZXRIZWlnaHQpID4gc2Nyb2xsKSB7XG4gICAgICAgICAgICB0aGlzLl9lcmVmLm5hdGl2ZUVsZW1lbnQuc2Nyb2xsVG9wID0gdGhpcy5HZXRFbGVtZW50KHRoaXMuRmluZEFjdGl2ZSgpKS5vZmZzZXRUb3AgLSAodGhpcy5fZXJlZi5uYXRpdmVFbGVtZW50Lm9mZnNldEhlaWdodCAtIHRoaXMuR2V0RWxlbWVudCh0aGlzLkZpbmRBY3RpdmUoKSkub2Zmc2V0SGVpZ2h0KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBEcm9wZG93bkZvY3VzQXJlYVVwKCkge1xuICAgICAgICBsZXQgc2Nyb2xsID0gdGhpcy5fZXJlZi5uYXRpdmVFbGVtZW50LnNjcm9sbFRvcDtcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLkdldEVsZW1lbnQodGhpcy5GaW5kQWN0aXZlKCkpLm9mZnNldFRvcCA8IHNjcm9sbCAmJiBzY3JvbGwgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9lcmVmLm5hdGl2ZUVsZW1lbnQuc2Nyb2xsVG9wID0gdGhpcy5HZXRFbGVtZW50KHRoaXMuRmluZEFjdGl2ZSgpKS5vZmZzZXRUb3A7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vXG4gICAgLy8gISBCaW5kaW5ncyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5vcGVuJylcbiAgICBnZXQgb3BlbmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3BlbjtcbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly9cbiAgICAvLyAhIExpc3RlbmVycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vL1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBASG9zdExpc3RlbmVyKCdkb2N1bWVudDpjbGljaycsIFsnJGV2ZW50J10pXG4gICAgQ2xvc2UoZXZlbnQsIGZvcmNlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vcGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29wZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBFbWl0IE5VTEwgc28gbGlzdGVuaW5nIGNvbXBvbmVudHMga25vdyB3aGF0IHRvIGRvLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLlJlbW92ZUxpc3RlbmVycygpO1xuICAgICAgICAgICAgdGhpcy5DbGVhckFjdGl2ZSgpO1xuICAgICAgICAgICAgdGhpcy5ob3Zlci5lbWl0KG51bGwpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZWQuZW1pdCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChmb3JjZSkge1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgodGhpcy5fb3BlbiAmJiAoIXRoaXMuZWxlbWVudC5jb250YWlucyhldmVudC50YXJnZXQpKSkpIHtcbiAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgaW5wdXRLZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIHRoaXMua2V5RG93bihldmVudCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbnB1dEtleWRvd25CaW5kID0gdGhpcy5pbnB1dEtleWRvd24uYmluZCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBkb2N1bWVudEtleWRvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgdGhpcy5rZXlEb3duKGV2ZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRvY3VtZW50S2V5ZG93bkJpbmQgPSB0aGlzLmRvY3VtZW50S2V5ZG93bi5iaW5kKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIG1vdXNlb3Zlckxpc3RlbmVyKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHRoaXMuT25Nb3VzZU92ZXIoZXZlbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgbW91c2VvdmVyTGlzdGVuZXJCaW5kID0gdGhpcy5tb3VzZW92ZXJMaXN0ZW5lci5iaW5kKHRoaXMpO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vL1xuICAgIC8vICEgVXRpbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIFJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgICAgICBpZiAodGhpcy5SZWZFeGlzdHMoKSkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5pbnB1dEtleWRvd25CaW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5jb21wbGV0aW9uKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5kb2N1bWVudEtleWRvd25CaW5kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgUmVtb3ZlTGlzdGVuZXJzKCkge1xuICAgICAgICBpZiAodGhpcy5SZWZFeGlzdHMoKSkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5pbnB1dEtleWRvd25CaW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5jb21wbGV0aW9uKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5kb2N1bWVudEtleWRvd25CaW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghSXNNb2JpbGVPclRhYmxldCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9lcmVmLm5hdGl2ZUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5tb3VzZW92ZXJMaXN0ZW5lckJpbmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBPcGVuKCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fb3BlbiAmJiAhdGhpcy5fZXJlZi5uYXRpdmVFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnaXMtaW5pdGlhbC1lbXB0eScpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5SZWdpc3Rlckxpc3RlbmVycygpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fb3BlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5QcmVwYXJlTGlzdCgpO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5GaW5kQWN0aXZlKCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VyZWYubmF0aXZlRWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VyZWYubmF0aXZlRWxlbWVudC5zY3JvbGxUb3AgPSB0aGlzLkdldEVsZW1lbnQodGhpcy5GaW5kQWN0aXZlKCkpLm9mZnNldEhlaWdodCAqIHRoaXMuRmluZEFjdGl2ZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50RGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIFJlZkV4aXN0cygpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLmlucHV0ICE9PSAndW5kZWZpbmVkJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIEZpbmRBY3RpdmUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3QucmVkdWNlKChyZXN1bHQsIGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBpbmRleDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwgLTEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgU2V0QWN0aXZlKGluZGV4OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKGluZGV4ID4gdGhpcy5fbGlzdC5sZW5ndGggLSAxIHx8IGluZGV4IDwgMCkgcmV0dXJuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5DbGVhckFjdGl2ZSgpO1xuXG4gICAgICAgIHRoaXMuX2xpc3RbaW5kZXhdLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuaG92ZXIuZW1pdCh0aGlzLl9saXN0W2luZGV4XS5rZXkpO1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuR2V0RWxlbWVudChpbmRleCkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBHZXRFbGVtZW50KGluZGV4OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VyZWYubmF0aXZlRWxlbWVudC5jaGlsZHJlbltpbmRleF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBDbGVhckFjdGl2ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fbGlzdC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaXRlbS5hY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLkdldEVsZW1lbnQoaW5kZXgpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIFByZXBhcmVMaXN0KCkge1xuICAgICAgICB0aGlzLl9saXN0ID0gT2JqZWN0LmtleXModGhpcy5saXN0KS5tYXAoKGtleSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgYWN0aXZlOiB0aGlzLkFjdGl2ZUl0ZW0oa2V5KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuUHJlcGFyZUNoaWxkcmVuTGlzdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgQWN0aXZlSXRlbShpdGVtOiBhbnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlICE9PSBudWxsICYmIGl0ZW0gPT09IHRoaXMuYWN0aXZlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgRGV0ZXJtaW5lQWN0aXZlQ2xhc3MoKSB7XG4gICAgICAgIHRoaXMuX2xpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5HZXRFbGVtZW50KGluZGV4KSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5HZXRFbGVtZW50KGluZGV4KS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIGlmIChpdGVtLmFjdGl2ZSlcbiAgICAgICAgICAgICAgICB0aGlzLkdldEVsZW1lbnQoaW5kZXgpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBQcmVwYXJlQ2hpbGRyZW5MaXN0KCkge1xuICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5fZXJlZi5uYXRpdmVFbGVtZW50LmNoaWxkcmVuO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGlzdFtpXS5pZCA9IHRoaXMuX2NsYXNzICsgaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLkRldGVybWluZUFjdGl2ZUNsYXNzKCk7XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBEZVJlZmVyZW5jZShvYmplY3Q6IHsgYWN0aXZlOiBib29sZWFuLCBbdmFsdWU6IHN0cmluZ106IGFueSB9KSB7XG4gICAgICAgIGNvbnN0IHtpdGVtfSA9IG9iamVjdDtcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB7Li4uaXRlbX0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuUmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZGVib3VuY2VUaW1lIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBOZ1pvbmUsIE9uSW5pdCwgT3V0cHV0LCBWaWV3Q2hpbGQsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQXV0b2NvbXBsZXRlR3JvdXAgfSBmcm9tICcuLi9jbGFzc2VzL0F1dG9jb21wbGV0ZUdyb3VwJztcbmltcG9ydCB7XG4gICAgQXV0b2NvbXBsZXRlSXRlbSxcbiAgICBDb21wYXJhYmxlQXV0b0NvbXBsZXRlU3RyaW5nLFxuICAgIFNlYXJjaGFibGVBdXRvQ29tcGxldGVTdHJpbmcsXG4gICAgU3RyaXBwZWRBdXRvY29tcGxldGVHcm91cFxufSBmcm9tICcuLi9jbGFzc2VzL0F1dG9jb21wbGV0ZUl0ZW0nO1xuaW1wb3J0IHsgTmdEcm9wZG93bkRpcmVjdGl2ZSB9IGZyb20gJy4uL2Ryb3Bkb3duL25nLWRyb3Bkb3duLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBHcm91cE5vUmVzdWx0IH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ25nLWNvbXBsZXRlcicsXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPGRpdiAjZWxlbWVudCBjbGFzcz1cIm5nLWF1dG9jb21wbGV0ZS1kcm9wZG93blwiXG4gICAgICAgICAgICAgW25nQ2xhc3NdPVwieydvcGVuJzogZHJvcGRvd24uX29wZW4sICdpcy1sb2FkaW5nJzogX0RPTS5pc0xvYWRpbmcsICdpcy1hc3luYyc6IGdyb3VwLmFzeW5jICE9PSBudWxsfVwiPlxuXG4gICAgICAgICAgICA8IS0tR1JPVVA6IHt7Z3JvdXAua2V5fX0tLT5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5nLWF1dG9jb21wbGV0ZS1pbnB1dHNcIiAoY2xpY2spPVwiUmVnaXN0ZXJDbGljaygpXCJcbiAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwieydjb21wbGV0aW9uLW9mZic6ICFncm91cC5jb21wbGV0aW9ufVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibmctYXV0b2NvbXBsZXRlLXBsYWNlaG9sZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIl9ET00ucGxhY2Vob2xkZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJncm91cC5wbGFjZWhvbGRlclZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICpuZ1RlbXBsYXRlT3V0bGV0PVwiZ3JvdXAucGxhY2Vob2xkZXJWYWx1ZTsgY29udGV4dDogeyRpbXBsaWNpdDogX0RPTS5wbGFjZWhvbGRlcn1cIj48L25nLXRlbXBsYXRlPlxuICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgW25nSWZdPVwiIWdyb3VwLnBsYWNlaG9sZGVyVmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7e19ET00ucGxhY2Vob2xkZXIudGl0bGV9fVxuICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPGlucHV0ICNpbnB1dCB0eXBlPVwidGV4dFwiIFtwbGFjZWhvbGRlcl09XCJncm91cC5wbGFjZWhvbGRlclwiIG5hbWU9XCJjb21wbGV0ZXJcIiBbbmdNb2RlbF09XCJfY29tcGxldGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgKG5nTW9kZWxDaGFuZ2UpPVwiX2NoYW5nZS5uZXh0KCRldmVudCk7XCJcbiAgICAgICAgICAgICAgICAgICAgICAgW3ZhbHVlXT1cIl9jb21wbGV0ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICBbdGFiSW5kZXhdPVwiX2Rpc2FibGVkID8gLTEgOiAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlPVwibmV3LXBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgKGZvY3VzKT1cIk9wZW5Ecm9wZG93bigpXCIgY2xhc3M9XCJuZy1hdXRvY29tcGxldGUtaW5wdXRcIj5cblxuICAgICAgICAgICAgICAgIDxzcGFuIFtuZ0NsYXNzXT1cInsnb3Blbic6IGRyb3Bkb3duLl9vcGVufVwiIGNsYXNzPVwibmctYXV0b2NvbXBsZXRlLWRyb3Bkb3duLWljb25cIlxuICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJEcm9wZG93bkFycmF5KClcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5nLWRyb3Bkb3duXCIgbmdEcm9wZG93biBbbGlzdF09XCJfaXRlbXNcIiBbZWxlbWVudF09XCJlbGVtZW50XCIgW2lucHV0XT1cImlucHV0XCJcbiAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwieydpcy1pbml0aWFsLWVtcHR5JzogX0RPTS5lbXB0eX1cIlxuICAgICAgICAgICAgICAgICBbYWN0aXZlXT1cIl9ET00uc2VsZWN0ZWRcIiBba2V5XT1cImdyb3VwLmtleVwiXG4gICAgICAgICAgICAgICAgIFtjb21wbGV0aW9uXT1cImdyb3VwLmNvbXBsZXRpb25cIlxuICAgICAgICAgICAgICAgICBbcGFyZW50RGV0ZWN0b3JdPVwiY2RcIlxuICAgICAgICAgICAgICAgICAoaG92ZXIpPVwiT25Ib3ZlckRyb3Bkb3duSXRlbSgkZXZlbnQpXCJcbiAgICAgICAgICAgICAgICAgKHNlbGVjdGVkKT1cIlNlbGVjdEl0ZW0oJGV2ZW50KVwiXG4gICAgICAgICAgICAgICAgIChjbG9zZWQpPVwiT25JbnB1dEJsdXJyZWQoKVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cIl9ET00ubm90Rm91bmQgJiYgZ3JvdXAubm9SZXN1bHRzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIG5vLXJlc3VsdHNcIj5cbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImdyb3VwLm5vUmVzdWx0c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICpuZ1RlbXBsYXRlT3V0bGV0PVwiZ3JvdXAubm9SZXN1bHRzOyBjb250ZXh0OiB7JGltcGxpY2l0OiBfY29tcGxldGVyfVwiPjwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiAqbmdGb3I9XCJsZXQgaXRlbSBvZiBfaXRlbXMgfCBrZXlzOyBsZXQgaSA9IGluZGV4XCJcbiAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJTZWxlY3RJdGVtKF9pdGVtc1tpdGVtXSlcIiBbbmdDbGFzc109XCJfaXRlbXNbaXRlbV0uY2xhc3NOYW1lXCI+XG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJncm91cC5kcm9wZG93blZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdUZW1wbGF0ZU91dGxldD1cImdyb3VwLmRyb3Bkb3duVmFsdWU7IGNvbnRleHQ6IHskaW1wbGljaXQ6IF9pdGVtc1tpdGVtXSwgaGlnaGxpZ2h0OiBfaXRlbXNbaXRlbV0udGl0bGUgfCBoaWdobGlnaHQ6X2hpZ2hsaWdodH1cIj48L25nLXRlbXBsYXRlPlxuICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiIWdyb3VwLmRyb3Bkb3duVmFsdWVcIiBbaW5uZXJIVE1MXT1cIl9pdGVtc1tpdGVtXS50aXRsZSB8IGhpZ2hsaWdodDpfaGlnaGxpZ2h0XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YCxcbiAgICBzdHlsZXM6IFtgXG4gICAgICAgIC5uZy1hdXRvY29tcGxldGUtaW5wdXRzIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5uZy1hdXRvY29tcGxldGUtaW5wdXRzIGlucHV0W3R5cGU9dGV4dF06Oi1tcy1jbGVhcixcbiAgICAgICAgLm5nLWF1dG9jb21wbGV0ZS1pbnB1dHMgaW5wdXRbdHlwZT10ZXh0XTo6LW1zLXJldmVhbCB7XG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICAgICAgd2lkdGg6IDA7XG4gICAgICAgICAgICBoZWlnaHQ6IDA7XG4gICAgICAgIH1cblxuICAgICAgICAubmctYXV0b2NvbXBsZXRlLWlucHV0cy5jb21wbGV0aW9uLW9mZiB7XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAubmctYXV0b2NvbXBsZXRlLWlucHV0cy5jb21wbGV0aW9uLW9mZiBpbnB1dCB7XG4gICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5uZy1hdXRvY29tcGxldGUtcGxhY2Vob2xkZXIge1xuICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgIH1cblxuICAgICAgICAubmctYXV0b2NvbXBsZXRlLWRyb3Bkb3duLWljb24ge1xuXG4gICAgICAgIH1cblxuICAgICAgICAubmctYXV0b2NvbXBsZXRlLWRyb3Bkb3duIC5uZy1kcm9wZG93biB7XG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICB9XG5cbiAgICAgICAgLm5nLWF1dG9jb21wbGV0ZS1kcm9wZG93biAubmctZHJvcGRvd24uaXMtZW1wdHkge1xuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5uZy1hdXRvY29tcGxldGUtZHJvcGRvd24gLm5nLWRyb3Bkb3duLm9wZW4ge1xuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIH1cbiAgICBgXSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxufSlcbmV4cG9ydCBjbGFzcyBDb21wbGV0ZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICAgIEBWaWV3Q2hpbGQoTmdEcm9wZG93bkRpcmVjdGl2ZSkgcHVibGljIGRyb3Bkb3duOiBOZ0Ryb3Bkb3duRGlyZWN0aXZlO1xuXG4gICAgQE91dHB1dCgpIHB1YmxpYyBjbGVhcmVkOiBFdmVudEVtaXR0ZXI8c3RyaW5nPiA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xuICAgIEBPdXRwdXQoKSBwdWJsaWMgc2VsZWN0ZWQ6IEV2ZW50RW1pdHRlcjxTdHJpcHBlZEF1dG9jb21wbGV0ZUdyb3VwPiA9IG5ldyBFdmVudEVtaXR0ZXI8U3RyaXBwZWRBdXRvY29tcGxldGVHcm91cD4oKTtcbiAgICBAT3V0cHV0KCduby1yZXN1bHQnKSBwdWJsaWMgbm9SZXN1bHQ6IEV2ZW50RW1pdHRlcjxHcm91cE5vUmVzdWx0PiA9IG5ldyBFdmVudEVtaXR0ZXI8R3JvdXBOb1Jlc3VsdD4oKTtcblxuICAgIEBJbnB1dCgpIHB1YmxpYyBncm91cDogQXV0b2NvbXBsZXRlR3JvdXAgPSA8QXV0b2NvbXBsZXRlR3JvdXA+e307XG5cbiAgICBfY2hhbmdlOiBTdWJqZWN0PHN0cmluZz4gPSBuZXcgU3ViamVjdDxzdHJpbmc+KCk7XG4gICAgX2l0ZW1zOiB7IFt2YWx1ZTogc3RyaW5nXTogQXV0b2NvbXBsZXRlSXRlbSB9ID0ge307XG4gICAgX2NvbXBsZXRlcjogc3RyaW5nID0gJyc7XG4gICAgX2hpZ2hsaWdodDogc3RyaW5nID0gJyc7XG4gICAgX2Rpc2FibGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBfRE9NID0ge1xuICAgICAgICBub3RGb3VuZDogPGJvb2xlYW4+ZmFsc2UsXG4gICAgICAgIGVtcHR5OiA8Ym9vbGVhbj5mYWxzZSxcbiAgICAgICAgcGxhY2Vob2xkZXI6IDxBdXRvY29tcGxldGVJdGVtPm51bGwsXG4gICAgICAgIHNlbGVjdGVkOiA8c3RyaW5nPicnLFxuICAgICAgICBpc0xvYWRpbmc6IDxib29sZWFuPmZhbHNlXG5cbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfem9uZTogTmdab25lLCBwdWJsaWMgY2Q6IENoYW5nZURldGVjdG9yUmVmKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG5cbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZS5waXBlKFxuICAgICAgICAgICAgICAgIGRlYm91bmNlVGltZSgzMDApKVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fem9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdXAuYXN5bmMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlJ1bkFzeW5jRnVuY3Rpb24odmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk9uTW9kZWxDaGFuZ2UodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuU2V0SXRlbXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPbmx5IHVzZWQgd2hlbiBjb21wbGV0aW9uIGlzIG9mZi5cbiAgICAgKi9cbiAgICBSZWdpc3RlckNsaWNrKCkge1xuICAgICAgICBpZiAoIXRoaXMuZ3JvdXAuY29tcGxldGlvbikge1xuICAgICAgICAgICAgdGhpcy5Td2l0Y2hEcm9wZG93blN0YXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIERyb3Bkb3duQXJyYXkoKSB7XG4gICAgICAgIGlmICh0aGlzLmdyb3VwLmNvbXBsZXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuU3dpdGNoRHJvcGRvd25TdGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBTd2l0Y2hEcm9wZG93blN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5kcm9wZG93bi5fb3Blbikge1xuICAgICAgICAgICAgdGhpcy5DbG9zZURyb3Bkb3duKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuT3BlbkRyb3Bkb3duKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBDbG9zZURyb3Bkb3duKCkge1xuICAgICAgICB0aGlzLmRyb3Bkb3duLl9vcGVuID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ET00ucGxhY2Vob2xkZXIgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgT3BlbkRyb3Bkb3duKCkge1xuICAgICAgICB0aGlzLmRyb3Bkb3duLk9wZW4oKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX0RPTS5wbGFjZWhvbGRlciA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBTZXRJdGVtcygpIHtcbiAgICAgICAgdGhpcy5faXRlbXMgPSB0aGlzLmdyb3VwLnZhbHVlO1xuICAgICAgICB0aGlzLklzSW5pdGlhbEVtcHR5KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBTZWxlY3RJdGVtKGl0ZW06IEF1dG9jb21wbGV0ZUl0ZW0gfCBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGk6IEF1dG9jb21wbGV0ZUl0ZW07XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGkgPSB0aGlzLl9pdGVtc1tpdGVtXTtcbiAgICAgICAgICAgIHRoaXMuX0RPTS5zZWxlY3RlZCA9IGl0ZW07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpID0gaXRlbTtcbiAgICAgICAgICAgIHRoaXMuX0RPTS5zZWxlY3RlZCA9IFNlYXJjaGFibGVBdXRvQ29tcGxldGVTdHJpbmcoaXRlbS50aXRsZSwgaXRlbS5pZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb21wbGV0ZXIgPSBpLnRpdGxlO1xuICAgICAgICB0aGlzLl9oaWdobGlnaHQgPSAnJztcblxuICAgICAgICB0aGlzLmRyb3Bkb3duLkNsb3NlKG51bGwsIHRydWUpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkLmVtaXQoe2dyb3VwOiB7a2V5OiB0aGlzLmdyb3VwLmtleX0sIGl0ZW06IGl9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIFJ1bkFzeW5jRnVuY3Rpb24odmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jb21wbGV0ZXIgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5faGlnaGxpZ2h0ID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy5fRE9NLnNlbGVjdGVkID0gbnVsbDtcblxuICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmdyb3VwLkluaXRpYWxWYWx1ZSgpO1xuICAgICAgICAgICAgdGhpcy5DbGVhck1vZGVsKCk7XG5cbiAgICAgICAgICAgIHRoaXMuZHJvcGRvd24uQ2xvc2UoJycsIHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlLmxlbmd0aCA+IHRoaXMuZ3JvdXAuc2VhcmNoTGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9ET00uaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gYXdhaXQgdGhpcy5ncm91cC5hc3luYyh2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmdyb3VwLlNldE5ld1ZhbHVlKHZhbHVlcywgdGhpcy5ncm91cC5rZXlzLnRpdGxlS2V5KTtcblxuICAgICAgICAgICAgdGhpcy5fRE9NLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLl9pdGVtcyA9IHRoaXMuZ3JvdXAudmFsdWU7XG4gICAgICAgICAgICB0aGlzLkVtcHR5U2VhcmNoKHRoaXMuX2l0ZW1zLCB2YWx1ZSk7XG5cbiAgICAgICAgICAgIC8vIFVzZXIgaGFzIHR5cGVkIHNvbWV0aGluZyBub3csIHJlc3VsdHMgY291bGQgYmUgc2hvd24uIFdlIG5lZWQgdG8gcmVtb3ZlIHRoZSBcImlzLWluaXRpYWwtZW1wdHlcIiBjbGFzcy5cbiAgICAgICAgICAgIHRoaXMuSXNJbml0aWFsRW1wdHkoKTtcbiAgICAgICAgICAgIHRoaXMuZHJvcGRvd24uT3BlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBPbk1vZGVsQ2hhbmdlKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY29tcGxldGVyID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2hpZ2hsaWdodCA9IHZhbHVlO1xuXG4gICAgICAgIHRoaXMuX0RPTS5zZWxlY3RlZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5DbGVhck1vZGVsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUubGVuZ3RoID4gdGhpcy5ncm91cC5zZWFyY2hMZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuQ29tcGFyZUl0ZW1zQW5kU2V0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgQ2xlYXJNb2RlbCgpIHtcbiAgICAgICAgdGhpcy5fRE9NLnNlbGVjdGVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fRE9NLm5vdEZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5jbGVhcmVkLmVtaXQodGhpcy5ncm91cC5rZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgQ29tcGFyZUl0ZW1zQW5kU2V0KHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuZ3JvdXAudmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChDb21wYXJhYmxlQXV0b0NvbXBsZXRlU3RyaW5nKGtleSkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHZhbHVlLnRvTG93ZXJDYXNlKCkpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHRoaXMuZ3JvdXAudmFsdWVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2l0ZW1zID0gb2JqO1xuICAgICAgICB0aGlzLkVtcHR5U2VhcmNoKHRoaXMuX2l0ZW1zLCB2YWx1ZSk7XG5cbiAgICAgICAgLy8gVXNlciBoYXMgdHlwZWQgc29tZXRoaW5nIG5vdywgcmVzdWx0cyBjb3VsZCBiZSBzaG93bi4gV2UgbmVlZCB0byByZW1vdmUgdGhlIFwiaXMtaW5pdGlhbC1lbXB0eVwiIGNsYXNzLlxuICAgICAgICB0aGlzLklzSW5pdGlhbEVtcHR5KCk7XG4gICAgICAgIHRoaXMuZHJvcGRvd24uT3BlbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgT25JbnB1dEJsdXJyZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5IYXNDaG9zZW5WYWx1ZSgpKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIExldCBjb21wb25lbnQga25vdyBjb21wbGV0ZXIgaW5wdXQgaGFzIGJlZW4gY2xlYXJlZCAtXG4gICAgICAgICAgICAgKiB0aGlzIGZ1bmN0aW9uIHNob3dzIHRoZSBsaXN0IGFnYWluLCBhbHNvIHJlc2V0cyBjaGlsZHJlbiwgaWYgY2hvc2VuLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLk9uTW9kZWxDaGFuZ2UoJycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBPbkhvdmVyRHJvcGRvd25JdGVtKGl0ZW06IEF1dG9jb21wbGV0ZUl0ZW0gfCBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5fRE9NLnBsYWNlaG9sZGVyID0gdGhpcy5faXRlbXNbaXRlbV07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW0gPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fRE9NLnBsYWNlaG9sZGVyID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX0RPTS5wbGFjZWhvbGRlciA9IGl0ZW07XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vL1xuICAgIC8vICEgVXRpbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vXG5cbiAgICBJc0luaXRpYWxFbXB0eSgpIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuX2l0ZW1zKS5sZW5ndGggPT09IDAgJiYgdGhpcy5fY29tcGxldGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fRE9NLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX0RPTS5lbXB0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgSGFzQ2hvc2VuVmFsdWUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ET00uc2VsZWN0ZWQgIT09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBFbXB0eVNlYXJjaChvYmo6IE9iamVjdCwgcXVlcnk6IHN0cmluZykge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ET00ubm90Rm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX0RPTS5ub3RGb3VuZCA9IHRydWU7XG4gICAgICAgIHRoaXMubm9SZXN1bHQuZW1pdCh7Z3JvdXA6IHtrZXk6IHRoaXMuZ3JvdXAua2V5fSwgcXVlcnk6IHF1ZXJ5fSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBDbGVhclZhbHVlKCkge1xuICAgICAgICB0aGlzLl9jb21wbGV0ZXIgPSAnJztcbiAgICAgICAgdGhpcy5fRE9NLnNlbGVjdGVkID0gbnVsbDtcblxuICAgICAgICB0aGlzLmdyb3VwLkluaXRpYWxWYWx1ZSgpO1xuICAgICAgICB0aGlzLklzSW5pdGlhbEVtcHR5KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZWxlY3RlZC5lbWl0KHtncm91cDoge2tleTogdGhpcy5ncm91cC5rZXl9LCBpdGVtOiBudWxsfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICBDb21wb25lbnQsXG4gICAgRWxlbWVudFJlZixcbiAgICBFdmVudEVtaXR0ZXIsXG4gICAgSW5wdXQsXG4gICAgT25Jbml0LFxuICAgIE91dHB1dCxcbiAgICBRdWVyeUxpc3QsXG4gICAgU2ltcGxlQ2hhbmdlcyxcbiAgICBUZW1wbGF0ZVJlZixcbiAgICBWaWV3Q2hpbGQsXG4gICAgVmlld0NoaWxkcmVuXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtBdXRvY29tcGxldGVHcm91cH0gZnJvbSAnLi9jbGFzc2VzL0F1dG9jb21wbGV0ZUdyb3VwJztcbmltcG9ydCB7U2VsZWN0ZWRBdXRvY29tcGxldGVJdGVtfSBmcm9tICcuL2NsYXNzZXMvdHlwaW5nJztcbmltcG9ydCB7Q29tcGxldGVyQ29tcG9uZW50fSBmcm9tICcuL2NvbXBsZXRlci9jb21wbGV0ZXIuY29tcG9uZW50JztcbmltcG9ydCB7R3JvdXBOb1Jlc3VsdCwgUmV0dXJuU3RyaW5nQXJyYXlCeUlEfSBmcm9tICcuL3V0aWxzL3V0aWxzJztcbmltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnbmctYXV0by1jb21wbGV0ZScsXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPGRpdiAjaW5pdCBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+PHNwYW4gY2xhc3M9XCJhZnRlci12aWV3LWluaXRcIj48L3NwYW4+PC9kaXY+XG4gICAgICAgIDxuZy1jb21wbGV0ZXIgW25nQ2xhc3NdPVwiY2xhc3Nlc1wiICpuZ0Zvcj1cImxldCBpdGVtIG9mIGdyb3VwXCIgKGNsZWFyZWQpPVwiSW5wdXRDbGVhcmVkKCRldmVudClcIlxuICAgICAgICAgICAgICAgICAgICAgIChuby1yZXN1bHQpPVwiTm9SZXN1bHQoJGV2ZW50KVwiXG4gICAgICAgICAgICAgICAgICAgICAgKHNlbGVjdGVkKT1cIkxpc3RlblRvU2VsZWN0ZWQoJGV2ZW50KVwiXG4gICAgICAgICAgICAgICAgICAgICAgW2dyb3VwXT1cIml0ZW1cIj48L25nLWNvbXBsZXRlcj5cbiAgICBgLFxufSlcbmV4cG9ydCBjbGFzcyBOZ0F1dG9Db21wbGV0ZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gICAgQFZpZXdDaGlsZHJlbihDb21wbGV0ZXJDb21wb25lbnQpIHB1YmxpYyBjb21wbGV0ZXJzOiBRdWVyeUxpc3Q8Q29tcGxldGVyQ29tcG9uZW50PjtcbiAgICBAVmlld0NoaWxkKCdpbml0JykgcHVibGljIGluaXQ6IEVsZW1lbnRSZWY7XG5cbiAgICBAT3V0cHV0KCkgcHVibGljIHNlbGVjdGVkOiBFdmVudEVtaXR0ZXI8U2VsZWN0ZWRBdXRvY29tcGxldGVJdGVtPiA9IG5ldyBFdmVudEVtaXR0ZXI8U2VsZWN0ZWRBdXRvY29tcGxldGVJdGVtPigpO1xuICAgIEBPdXRwdXQoJ25vLXJlc3VsdCcpIHB1YmxpYyBub1Jlc3VsdDogRXZlbnRFbWl0dGVyPEdyb3VwTm9SZXN1bHQ+ID0gbmV3IEV2ZW50RW1pdHRlcjxHcm91cE5vUmVzdWx0PigpO1xuXG4gICAgQElucHV0KCkgcHVibGljIGdyb3VwOiBBdXRvY29tcGxldGVHcm91cFtdID0gW107XG4gICAgQElucHV0KCkgcHVibGljIGtleTogc3RyaW5nID0gJyc7XG4gICAgQElucHV0KCkgcHVibGljIGNsYXNzZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICBfdmlld0hhc0JlZW5Jbml0OiBib29sZWFuID0gZmFsc2U7XG4gICAgX3ZpZXdJbml0U3ViamVjdDogU3ViamVjdDxib29sZWFuPiA9IG5ldyBTdWJqZWN0PGJvb2xlYW4+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIG5nT25Jbml0KCkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgbmdBZnRlclZpZXdDaGVja2VkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3ZpZXdIYXNCZWVuSW5pdCkge1xuICAgICAgICAgICAgbGV0IGVsID0gdGhpcy5pbml0Lm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcignLmFmdGVyLXZpZXctaW5pdCcpO1xuXG4gICAgICAgICAgICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3SGFzQmVlbkluaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdJbml0U3ViamVjdC5uZXh0KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBMaXN0ZW5Ub1NlbGVjdGVkKHNlbGVjdGVkOiBTZWxlY3RlZEF1dG9jb21wbGV0ZUl0ZW0pIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZC5lbWl0KHNlbGVjdGVkKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuU2V0Q2hpbGRyZW4oc2VsZWN0ZWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgTm9SZXN1bHQoZ3JvdXA6IEdyb3VwTm9SZXN1bHQpIHtcbiAgICAgICAgdGhpcy5ub1Jlc3VsdC5lbWl0KGdyb3VwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIElucHV0Q2xlYXJlZChrZXk6IHN0cmluZykge1xuICAgICAgICB0aGlzLmdyb3VwLmZvckVhY2goKGdyb3VwKSA9PiB7XG4gICAgICAgICAgICBpZiAoZ3JvdXAua2V5ID09PSBrZXkgfHwgZ3JvdXAucGFyZW50ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLlJlc2V0SW5wdXQoZ3JvdXAua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEl0ZW1zIG1heSBoYXZlIGNoYW5nZWQsIG5lZWQgdG8gdGUgcmUtc2V0IGxpc3QgaW4gY29tcGxldGVyIGNvbXBvbmVudHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLlRyaWdnZXJDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIFNldENoaWxkcmVuKHNlbGVjdGVkOiBTZWxlY3RlZEF1dG9jb21wbGV0ZUl0ZW0pIHtcbiAgICAgICAgdGhpcy5ncm91cC5mb3JFYWNoKChpdGVtKSA9PiB7XG5cbiAgICAgICAgICAgIGlmIChpdGVtLnBhcmVudCA9PSBzZWxlY3RlZC5ncm91cC5rZXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLlJlc2V0SW5wdXQoaXRlbS5rZXkpO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWQuaXRlbSAhPT0gbnVsbCAmJiB0eXBlb2Ygc2VsZWN0ZWQuaXRlbS5jaGlsZHJlbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5TZXROZXdWYWx1ZShzZWxlY3RlZC5pdGVtLmNoaWxkcmVuLCBzZWxlY3RlZC5ncm91cC5rZXlzLnRpdGxlS2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJdGVtcyBtYXkgaGF2ZSBjaGFuZ2VkLCBuZWVkIHRvIHRlIHJlLXNldCBsaXN0IGluIGNvbXBsZXRlciBjb21wb25lbnRzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5UcmlnZ2VyQ2hhbmdlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBUcmlnZ2VyQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLmNvbXBsZXRlcnMuZm9yRWFjaCgoY29tcGxldGVyKSA9PiB7XG4gICAgICAgICAgICBjb21wbGV0ZXIuU2V0SXRlbXMoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vL1xuICAgIC8vICEgVXRpbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIEdldElucHV0KGtleTogc3RyaW5nKTogQ29tcGxldGVyQ29tcG9uZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGVycy5yZWR1Y2UoKHJlc3VsdCwgY29tcGxldGVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoY29tcGxldGVyLmdyb3VwLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gY29tcGxldGVyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCA8Q29tcGxldGVyQ29tcG9uZW50Pnt9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIFN1YnNjcmliZUlucHV0KGtleTogc3RyaW5nLCBmOiAoY29tcGxldGVyOiBDb21wbGV0ZXJDb21wb25lbnQpID0+IHZvaWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdIYXNCZWVuSW5pdCkge1xuICAgICAgICAgICAgbGV0IGNvbXBsZXRlciA9IHRoaXMuR2V0SW5wdXQoa2V5KTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmKGNvbXBsZXRlcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl92aWV3SW5pdFN1YmplY3Quc3Vic2NyaWJlKChfYm9vbCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNvbXBsZXRlciA9IHRoaXMuR2V0SW5wdXQoa2V5KTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGYoY29tcGxldGVyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl92aWV3SW5pdFN1YmplY3QudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBSZXNldElucHV0KGtleTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuU3Vic2NyaWJlSW5wdXQoXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAoY29tcGxldGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVyLkNsZWFyVmFsdWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIFNldFZhbHVlcyhrZXk6IHN0cmluZywgdmFsdWVzOiB7IGlkPzogc3RyaW5nIHwgbnVtYmVyOyBbdmFsdWU6IHN0cmluZ106IGFueSB9W10pIHtcbiAgICAgICAgdGhpcy5TdWJzY3JpYmVJbnB1dChcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIChjb21wbGV0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZXIuZ3JvdXAuU2V0VmFsdWVzKHZhbHVlcyk7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJdGVtcyBtYXkgaGF2ZSBjaGFuZ2VkLCBuZWVkIHRvIHRlIHJlLXNldCBsaXN0IGluIGNvbXBsZXRlciBjb21wb25lbnRzLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuVHJpZ2dlckNoYW5nZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgU2V0VGVtcGxhdGUoa2V5OiBzdHJpbmcsIHR5cGU6ICdub1Jlc3VsdHMnIHwgJ3BsYWNlaG9sZGVyVmFsdWUnIHwgJ2Ryb3Bkb3duVmFsdWUnLCB0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55Pikge1xuICAgICAgICB0aGlzLlN1YnNjcmliZUlucHV0KFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgKGNvbXBsZXRlcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlci5ncm91cFt0eXBlXSA9IHRlbXBsYXRlO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSXRlbXMgbWF5IGhhdmUgY2hhbmdlZCwgbmVlZCB0byB0ZSByZS1zZXQgbGlzdCBpbiBjb21wbGV0ZXIgY29tcG9uZW50cy5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLlRyaWdnZXJDaGFuZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIFNldEFzeW5jKGtleTogc3RyaW5nLCBwcm9taXNlOiAoc3RyOiBzdHJpbmcpID0+IFByb21pc2U8eyBpZDogc3RyaW5nIHwgbnVtYmVyOyBbdmFsdWU6IHN0cmluZ106IGFueSB9W10+KSB7XG4gICAgICAgIHRoaXMuU3Vic2NyaWJlSW5wdXQoXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAoY29tcGxldGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVyLmdyb3VwLmFzeW5jID0gcHJvbWlzZTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEl0ZW1zIG1heSBoYXZlIGNoYW5nZWQsIG5lZWQgdG8gdGUgcmUtc2V0IGxpc3QgaW4gY29tcGxldGVyIGNvbXBvbmVudHMuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5UcmlnZ2VyQ2hhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBTZXRFbmFibGUoa2V5OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5TdWJzY3JpYmVJbnB1dChcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIChjb21wbGV0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZXIuX2Rpc2FibGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJdGVtcyBtYXkgaGF2ZSBjaGFuZ2VkLCBuZWVkIHRvIHRlIHJlLXNldCBsaXN0IGluIGNvbXBsZXRlciBjb21wb25lbnRzLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuVHJpZ2dlckNoYW5nZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgU2V0RGlzYWJsZShrZXk6IHN0cmluZykge1xuICAgICAgICB0aGlzLlN1YnNjcmliZUlucHV0KFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgKGNvbXBsZXRlcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlci5fZGlzYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSXRlbXMgbWF5IGhhdmUgY2hhbmdlZCwgbmVlZCB0byB0ZSByZS1zZXQgbGlzdCBpbiBjb21wbGV0ZXIgY29tcG9uZW50cy5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLlRyaWdnZXJDaGFuZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIFNlbGVjdEl0ZW0oa2V5OiBzdHJpbmcsIGlkOiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5TdWJzY3JpYmVJbnB1dChcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIChjb21wbGV0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhjb21wbGV0ZXIuX2l0ZW1zKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGYgPSBgX2lkXyR7U3RyaW5nKGlkKX1gO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYyA9IGtleS5zdWJzdHJpbmcoa2V5LmluZGV4T2YoZiksIGtleS5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmID09PSBjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZXIuU2VsZWN0SXRlbShjb21wbGV0ZXIuX2l0ZW1zW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIFJlbW92YWJsZVZhbHVlcyhrZXk6IHN0cmluZywgaWRzOiB7IGlkOiBzdHJpbmcgfCBudW1iZXIsIFt2YWx1ZTogc3RyaW5nXTogYW55IH1bXSkge1xuICAgICAgICB0aGlzLlN1YnNjcmliZUlucHV0KFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgKGNvbXBsZXRlcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlci5ncm91cC5SZW1vdmFibGVzKFJldHVyblN0cmluZ0FycmF5QnlJRChpZHMpKTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEl0ZW1zIG1heSBoYXZlIGNoYW5nZWQsIG5lZWQgdG8gdGUgcmUtc2V0IGxpc3QgaW4gY29tcGxldGVyIGNvbXBvbmVudHMuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5UcmlnZ2VyQ2hhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBSZXNldElucHV0cygpIHtcbiAgICAgICAgdGhpcy5ncm91cC5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICB0aGlzLlJlc2V0SW5wdXQoaXRlbS5rZXkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vXG4gICAgLy8gISBTdGF0aWMgKHV0aWxzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgc3RhdGljIEZpbmRDb21wbGV0ZXIoa2V5OiBzdHJpbmcsIGxpc3Q6IFF1ZXJ5TGlzdDxOZ0F1dG9Db21wbGV0ZUNvbXBvbmVudD4pOiBOZ0F1dG9Db21wbGV0ZUNvbXBvbmVudCB7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlciA9IGxpc3QuZmlsdGVyKChjb21wbGV0ZXI6IE5nQXV0b0NvbXBsZXRlQ29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ga2V5ID09PSBjb21wbGV0ZXIua2V5O1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodHlwZW9mIGNvbXBsZXRlclswXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZXJbMF07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBQaXBlKHtcbiAgICBuYW1lOiAnaGlnaGxpZ2h0J1xufSlcbmV4cG9ydCBjbGFzcyBIaWdobGlnaHRQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG5cbiAgICB0cmFuc2Zvcm0odGV4dDogc3RyaW5nLCBzZWFyY2g6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGlmIChzZWFyY2gubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuU3RyaXAodGV4dCkucmVwbGFjZShuZXcgUmVnRXhwKGAke3RoaXMuRXNjYXBlTWF0Y2goc2VhcmNoKX1gLCAnZ2knKSwgKG1hdGNoOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuIGNsYXNzPVwiZHJvcGRvd24taXRlbS1oaWdobGlnaHRcIj4ke21hdGNofTwvc3Bhbj5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEVzY2FwZU1hdGNoKG1hdGNoOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZW50aXR5TWFwID0ge1xuICAgICAgICAgICAgJyYnOiAnXFxcXCYnLFxuICAgICAgICAgICAgJzwnOiAnXFxcXDwnLFxuICAgICAgICAgICAgJz4nOiAnXFxcXD4nLFxuICAgICAgICAgICAgJy8nOiAnXFxcXC8nLFxuICAgICAgICAgICAgJz0nOiAnXFxcXD0nLFxuICAgICAgICAgICAgJysnOiAnXFxcXCsnLFxuICAgICAgICAgICAgJy0nOiAnXFxcXC0nLFxuICAgICAgICAgICAgJyMnOiAnXFxcXCMnLFxuICAgICAgICAgICAgJyEnOiAnXFxcXCEnLFxuICAgICAgICAgICAgJ0AnOiAnXFxcXEAnLFxuICAgICAgICAgICAgJyQnOiAnXFxcXCQnLFxuICAgICAgICAgICAgJyUnOiAnXFxcXCUnLFxuICAgICAgICAgICAgJ14nOiAnXFxcXF4nLFxuICAgICAgICAgICAgJyonOiAnXFxcXConLFxuICAgICAgICAgICAgJygnOiAnXFxcXCgnLFxuICAgICAgICAgICAgJyknOiAnXFxcXCknLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBTdHJpbmcobWF0Y2gpLnJlcGxhY2UoL1smPD5cIidgPStcXC9dL2csIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gZW50aXR5TWFwW3NdO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBTdHJpcChzdHJfaW46IFN0cmluZyA9ICcnKSB7XG4gICAgICAgIHJldHVybiBzdHJfaW4ucmVwbGFjZSgvPFtePl0qPi9nLCAnJyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AUGlwZSh7XG4gICAgbmFtZTogJ2tleXMnXG59KVxuZXhwb3J0IGNsYXNzIEtleVZhbHVlUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuXG4gICAgdHJhbnNmb3JtKHZhbHVlOiBhbnksIGFyZ3M/OiBhbnkpOiBhbnkge1xuICAgICAgICBsZXQga2V5cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ga2V5cztcbiAgICB9XG59XG4iLCJpbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7SGlnaGxpZ2h0UGlwZX0gZnJvbSAnLi9oaWdobGlnaHQnO1xuaW1wb3J0IHtLZXlWYWx1ZVBpcGV9IGZyb20gJy4va2V5LXZhbHVlJztcblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXSxcbiAgICBkZWNsYXJhdGlvbnM6IFtIaWdobGlnaHRQaXBlLCBLZXlWYWx1ZVBpcGVdLFxuICAgIGV4cG9ydHM6IFtIaWdobGlnaHRQaXBlLCBLZXlWYWx1ZVBpcGVdLFxufSlcbmV4cG9ydCBjbGFzcyBQaXBlTW9kdWxlIHtcblxuICAgIHN0YXRpYyBmb3JSb290KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmdNb2R1bGU6IFBpcGVNb2R1bGUsXG4gICAgICAgICAgICBwcm92aWRlcnM6IFtdLFxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7TmdNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtOZ0F1dG9Db21wbGV0ZUNvbXBvbmVudH0gZnJvbSAnLi9uZy1hdXRvLWNvbXBsZXRlLmNvbXBvbmVudCc7XG5pbXBvcnQge0NvbW1vbk1vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7Rm9ybXNNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7Q29tcGxldGVyQ29tcG9uZW50fSBmcm9tICcuL2NvbXBsZXRlci9jb21wbGV0ZXIuY29tcG9uZW50JztcbmltcG9ydCB7TmdEcm9wZG93bkRpcmVjdGl2ZX0gZnJvbSAnLi9kcm9wZG93bi9uZy1kcm9wZG93bi5kaXJlY3RpdmUnO1xuaW1wb3J0IHtQaXBlTW9kdWxlfSBmcm9tICcuL3BpcGVzL3BpcGVzLm1vZHVsZSc7XG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBQaXBlTW9kdWxlLmZvclJvb3QoKVxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBOZ0F1dG9Db21wbGV0ZUNvbXBvbmVudCxcbiAgICAgICAgQ29tcGxldGVyQ29tcG9uZW50LFxuICAgIF0sXG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIE5nQXV0b0NvbXBsZXRlQ29tcG9uZW50LFxuICAgICAgICBDb21wbGV0ZXJDb21wb25lbnQsXG4gICAgICAgIE5nRHJvcGRvd25EaXJlY3RpdmVcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIE5nQXV0b0NvbXBsZXRlTW9kdWxlIHtcbn1cbiIsImltcG9ydCB7IEF1dG9jb21wbGV0ZUl0ZW0sIFNlYXJjaGFibGVBdXRvQ29tcGxldGVJdGVtcyB9IGZyb20gJy4vQXV0b2NvbXBsZXRlSXRlbSc7XG5pbXBvcnQgeyBUZW1wbGF0ZVJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5leHBvcnQgY2xhc3MgQXV0b2NvbXBsZXRlR3JvdXAge1xuICAgIGluaXRpYWxWYWx1ZTogeyBbdmFsdWU6IHN0cmluZ106IEF1dG9jb21wbGV0ZUl0ZW0gfTtcblxuICAgIGtleTogc3RyaW5nO1xuICAgIGtleXM6IHsgdGl0bGVLZXk6IHN0cmluZywgY2hpbGRyZW5LZXk6IHN0cmluZyB8IG51bGwgfTtcbiAgICB2YWx1ZTogeyBbdmFsdWU6IHN0cmluZ106IEF1dG9jb21wbGV0ZUl0ZW0gfTtcbiAgICByZW1vdmU6IHN0cmluZ1tdO1xuICAgIHBsYWNlaG9sZGVyOiBzdHJpbmc7XG4gICAgcGFyZW50OiBzdHJpbmc7XG4gICAgY29tcGxldGlvbjogYm9vbGVhbjtcbiAgICBzZWFyY2hMZW5ndGg6IG51bWJlcjtcbiAgICBhc3luYzogKHN0cjogc3RyaW5nKSA9PiBQcm9taXNlPHsgaWQ6IHN0cmluZyB8IG51bWJlcjsgW3ZhbHVlOiBzdHJpbmddOiBhbnkgfVtdPiA9IG51bGw7XG5cbiAgICAvLyBUZW1wbGF0ZXNcbiAgICBub1Jlc3VsdHM6IFRlbXBsYXRlUmVmPGFueT47XG4gICAgZHJvcGRvd25WYWx1ZTogVGVtcGxhdGVSZWY8YW55PjtcbiAgICBwbGFjZWhvbGRlclZhbHVlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG4gICAgcHJpdmF0ZSByZW1vdmFsczogc3RyaW5nW10gPSBbXTtcbiAgICBwcml2YXRlIF9jb3B5OiB7IFt2YWx1ZTogc3RyaW5nXTogQXV0b2NvbXBsZXRlSXRlbSB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBTZXROZXdWYWx1ZSh2YWx1ZTogeyBpZDogc3RyaW5nIHwgbnVtYmVyOyBbdmFsdWU6IHN0cmluZ106IGFueSB9W10sIHRpdGxlS2V5OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gU2VhcmNoYWJsZUF1dG9Db21wbGV0ZUl0ZW1zKHZhbHVlLCB0aXRsZUtleSk7XG4gICAgICAgIHRoaXMuU2V0Q29weSh2YWx1ZXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuRmlsdGVyUmVtb3ZhbHModGhpcy5yZW1vdmFscywgdmFsdWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIFJlbW92YWJsZXMoaWRzOiBzdHJpbmdbXSkge1xuICAgICAgICB0aGlzLnJlbW92YWxzID0gaWRzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuRmlsdGVyUmVtb3ZhbHModGhpcy5yZW1vdmFscywgdGhpcy5fY29weSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBJbml0aWFsVmFsdWUoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLkZpbHRlclJlbW92YWxzKHRoaXMucmVtb3ZhbHMsIHRoaXMuaW5pdGlhbFZhbHVlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuU2V0Q29weSh0aGlzLmluaXRpYWxWYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBTZXRDb3B5KHZhbHVlczogeyBbdmFsdWU6IHN0cmluZ106IEF1dG9jb21wbGV0ZUl0ZW0gfSkge1xuICAgICAgICB0aGlzLl9jb3B5ID0gT2JqZWN0LmFzc2lnbihbXSwgdmFsdWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIFNldFZhbHVlcyh2YWx1ZTogeyBpZD86IHN0cmluZyB8IG51bWJlcjsgW3ZhbHVlOiBzdHJpbmddOiBhbnkgfVtdKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBTZWFyY2hhYmxlQXV0b0NvbXBsZXRlSXRlbXModmFsdWUsIHRoaXMua2V5cy50aXRsZUtleSwgdGhpcy5rZXlzLmNoaWxkcmVuS2V5KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy52YWx1ZSk7XG4gICAgICAgIHRoaXMuU2V0Q29weShPYmplY3QuYXNzaWduKHt9LCB0aGlzLnZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBGaWx0ZXJSZW1vdmFscyhyZW1vdmFsczogYW55W10sIHZhbHVlOiB7IFt2YWx1ZTogc3RyaW5nXTogQXV0b2NvbXBsZXRlSXRlbSB9KTogeyBbdmFsdWU6IHN0cmluZ106IEF1dG9jb21wbGV0ZUl0ZW0gfSB7XG4gICAgICAgIGxldCBmaWx0ZXJlZCA9IE9iamVjdC5hc3NpZ24oe30sIHZhbHVlKTtcblxuICAgICAgICBsZXQga2V5LCBrZXlzID0gW107XG4gICAgICAgIGZvciAoa2V5IGluIGZpbHRlcmVkKSB7XG4gICAgICAgICAgICBpZiAoZmlsdGVyZWQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIHJlbW92YWxzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbXBhcmFibGUgc3RyaW5nIGFuZCBJRFxuICAgICAgICAgICAgICAgICAgICBsZXQgZiA9IGBfaWRfJHtTdHJpbmcoaWQpfWA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjID0ga2V5LnN1YnN0cmluZyhrZXkuaW5kZXhPZihmKSwga2V5Lmxlbmd0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGYgPT09IGMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGtleXMuZm9yRWFjaCgoaykgPT4ge1xuICAgICAgICAgICAgZGVsZXRlIGZpbHRlcmVkW2tdO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyZWQ7XG4gICAgfVxufVxuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVOZXdBdXRvY29tcGxldGVHcm91cDxUPihwbGFjZWhvbGRlcjogc3RyaW5nLCBrZXk6IHN0cmluZywgdmFsdWU6IHsgaWQ/OiBzdHJpbmcgfCBudW1iZXI7IFt2YWx1ZTogc3RyaW5nXTogYW55IH1bXSwga2V5czogeyB0aXRsZUtleTogc3RyaW5nLCBjaGlsZHJlbktleTogc3RyaW5nIHwgbnVsbCB9LCBwYXJlbnQ6IHN0cmluZyA9ICcnLCBjb21wbGV0aW9uOiBib29sZWFuID0gdHJ1ZSwgc2VhcmNoTGVuZ3RoOiBudW1iZXIgPSAyKTogQXV0b2NvbXBsZXRlR3JvdXAge1xuICAgIGNvbnN0IGdyb3VwID0gbmV3IEF1dG9jb21wbGV0ZUdyb3VwKCk7XG5cbiAgICBncm91cC5rZXkgPSBrZXk7XG4gICAgZ3JvdXAua2V5cyA9IGtleXM7XG4gICAgZ3JvdXAucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICBncm91cC5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgZ3JvdXAuY29tcGxldGlvbiA9IGNvbXBsZXRpb247XG4gICAgZ3JvdXAuc2VhcmNoTGVuZ3RoID0gc2VhcmNoTGVuZ3RoO1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbCB2YWx1ZSBuZWVkZWQsIGlmIHdlIGVtcHR5IHNlYXJjaCBib3ggb3Igd2FudCB0byBjbGVhciBpdCwgaXQgbmVlZHMgdG8gYmUgcmVzZXQuXG4gICAgICogU2V0dGluZyBjb3B5LCB1c2VkIGlmIHVzZXIgd2FudHMgdG8gcmVtb3ZlIHZhbHVlcyAoYnkgaWQuKS4gVGhpcyBfIGxpc3QgZ2V0cyBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBncm91cC5TZXRWYWx1ZXModmFsdWUpO1xuXG4gICAgcmV0dXJuIGdyb3VwO1xufVxuIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlciIsIkRpcmVjdGl2ZSIsIkVsZW1lbnRSZWYiLCJJbnB1dCIsIk91dHB1dCIsIkhvc3RCaW5kaW5nIiwiSG9zdExpc3RlbmVyIiwiU3ViamVjdCIsImRlYm91bmNlVGltZSIsIkNvbXBvbmVudCIsIkNoYW5nZURldGVjdGlvblN0cmF0ZWd5IiwiTmdab25lIiwiQ2hhbmdlRGV0ZWN0b3JSZWYiLCJWaWV3Q2hpbGQiLCJWaWV3Q2hpbGRyZW4iLCJQaXBlIiwiTmdNb2R1bGUiLCJDb21tb25Nb2R1bGUiLCJGb3Jtc01vZHVsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0lBQUE7Ozs7Ozs7Ozs7Ozs7O0FBY0EsSUFlTyxJQUFJLFFBQVEsR0FBRztRQUNsQixRQUFRLEdBQUcsTUFBTSxDQUFDLE1BQU0sSUFBSSxTQUFTLFFBQVEsQ0FBQyxDQUFDO1lBQzNDLEtBQUssSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNqRCxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNqQixLQUFLLElBQUksQ0FBQyxJQUFJLENBQUM7b0JBQUUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQzt3QkFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2hGO1lBQ0QsT0FBTyxDQUFDLENBQUM7U0FDWixDQUFBO1FBQ0QsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztJQUMzQyxDQUFDLENBQUE7QUFFRCxhQXlCZ0IsU0FBUyxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLFNBQVM7UUFDdkQsT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxD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